{
  "source": "postman_saved_example",
  "collection": {
    "name": "Github Issues API",
    "postman_id": "87da17a2-7498-4c98-a419-04b7724e165e"
  },
  "item_path": "Comment Operations/TEST #29: List Comments with Pagination",
  "request": {
    "name": "TEST #29: List Comments with Pagination",
    "method": "GET",
    "raw_url": "{{baseUrl}}/repos/{{test_owner}}/{{test_repo}}/issues/35336/comments?per_page=3",
    "path_template": "/repos/{owner}/{repo}/issues/35336/comments"
  },
  "response": {
    "name": "TEST-29_List-comments-pagination-per_page-5_200",
    "status": "OK",
    "code": 200,
    "headers": {
      "Date": "Fri, 19 Dec 2025 21:11:11 GMT",
      "Content-Type": "application/json; charset=utf-8",
      "Cache-Control": "private, max-age=60, s-maxage=60",
      "Vary": "Accept, Authorization, Cookie, X-GitHub-OTP,Accept-Encoding, Accept, X-Requested-With",
      "ETag": "W/\"31be52b92ec3b07ce7505d47e71232383b60a5af5118a493b770d4cefa0ad137\"",
      "X-OAuth-Scopes": "repo",
      "X-Accepted-OAuth-Scopes": "",
      "github-authentication-token-expiration": "2026-01-09 06:19:21 UTC",
      "X-GitHub-Media-Type": "github.v3; format=json",
      "Link": "<https://api.github.com/repositories/10270250/issues/35336/comments?per_page=3&page=2>; rel=\"next\", <https://api.github.com/repositories/10270250/issues/35336/comments?per_page=3&page=2>; rel=\"last\"",
      "x-github-api-version-selected": "2022-11-28",
      "Access-Control-Expose-Headers": "ETag, Link, Location, Retry-After, X-GitHub-OTP, X-RateLimit-Limit, X-RateLimit-Remaining, X-RateLimit-Used, X-RateLimit-Resource, X-RateLimit-Reset, X-OAuth-Scopes, X-Accepted-OAuth-Scopes, X-Poll-Interval, X-GitHub-Media-Type, X-GitHub-SSO, X-GitHub-Request-Id, Deprecation, Sunset",
      "Access-Control-Allow-Origin": "*",
      "Strict-Transport-Security": "max-age=31536000; includeSubdomains; preload",
      "X-Frame-Options": "deny",
      "X-Content-Type-Options": "nosniff",
      "X-XSS-Protection": "0",
      "Referrer-Policy": "origin-when-cross-origin, strict-origin-when-cross-origin",
      "Content-Security-Policy": "default-src 'none'",
      "Content-Encoding": "gzip",
      "Transfer-Encoding": "chunked",
      "X-GitHub-Request-Id": "DBB0:355EEB:182C03:6A76F2:6945BF6F",
      "Server": "github.com",
      "X-RateLimit-Limit": "5000",
      "X-RateLimit-Remaining": "4996",
      "X-RateLimit-Reset": "1766181354",
      "X-RateLimit-Used": "4",
      "X-RateLimit-Resource": "core"
    },
    "date_utc": "2025-12-19T21:11:11+00:00",
    "date_et": "2025-12-19T16:11:11-05:00",
    "body": [
      {
        "url": "https://api.github.com/repos/facebook/react/issues/comments/3632058636",
        "html_url": "https://github.com/facebook/react/issues/35336#issuecomment-3632058636",
        "issue_url": "https://api.github.com/repos/facebook/react/issues/35336",
        "id": 3632058636,
        "node_id": "IC_kwDOAJy2Ks7YfNEM",
        "user": {
          "login": "gaearon",
          "id": 810438,
          "node_id": "MDQ6VXNlcjgxMDQzOA==",
          "avatar_url": "https://avatars.githubusercontent.com/u/810438?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/gaearon",
          "html_url": "https://github.com/gaearon",
          "followers_url": "https://api.github.com/users/gaearon/followers",
          "following_url": "https://api.github.com/users/gaearon/following{/other_user}",
          "gists_url": "https://api.github.com/users/gaearon/gists{/gist_id}",
          "starred_url": "https://api.github.com/users/gaearon/starred{/owner}{/repo}",
          "subscriptions_url": "https://api.github.com/users/gaearon/subscriptions",
          "organizations_url": "https://api.github.com/users/gaearon/orgs",
          "repos_url": "https://api.github.com/users/gaearon/repos",
          "events_url": "https://api.github.com/users/gaearon/events{/privacy}",
          "received_events_url": "https://api.github.com/users/gaearon/received_events",
          "type": "User",
          "user_view_type": "public",
          "site_admin": false
        },
        "created_at": "2025-12-09T12:38:38Z",
        "updated_at": "2025-12-09T12:38:38Z",
        "body": "Here's what Claude had to say about the root cause based on a crash dump from my phone and looking at React and Webkit source.\n\nCrash dump: \n[com.apple.WebKit.WebContent-2025-12-09-203451.log](https://github.com/user-attachments/files/24055100/com.apple.WebKit.WebContent-2025-12-09-203451.log)\n\nStack trace:\n\n```\n  WebCore::compareStyleOriginatedAnimationOwningElementPositionsInDocumentTreeOrder\n    ↓\n  WebCore::compareCSSAnimations\n    ↓\n  std::__1::__stable_sort_move  (sorting animations)\n    ↓\n  WebCore::Document::matchingAnimations\n    ↓\n  WebCore::Element::getAnimations   ← JS API call\n```\n\nClaude claims the problem is in this block of code (which is already a workaround for another Safari issue):\n\nhttps://github.com/facebook/react/blob/55480b4d228986e502f4651f8e53a6f264a1858e/packages/react-dom-bindings/src/client/ReactFiberConfigDOM.js#L1999-L2017\n\n>   Crash location:\n>   WebCore::compareStyleOriginatedAnimationOwningElementPositionsInDocumentTreeOrder at\n>   offset 0x40 (null pointer dereference)\n> \n>   Call stack:\n>   Element::getAnimations()\n>     → Document::matchingAnimations()\n>       → stable_sort()\n>         → compareCSSAnimations()\n>           → compareStyleOriginatedAnimationOwningElementPositionsInDocumentTreeOrder()\n>             → CRASH\n> \n>   Root cause:\n> \n>   When Suspense resolves with both exit and enter ViewTransitions:\n>   1. React calls document.startViewTransition()\n>   2. The fallback element (with exit) gets removed from the DOM\n>   3. The content element (with enter) gets added\n>   4. After transition.ready resolves, React calls documentElement.getAnimations({subtree: \n>   true}) to optimize/adjust the animations\n>   5. WebKit internally sorts the returned animations to determine their composite order\n>   6. The sort comparator\n>   (compareStyleOriginatedAnimationOwningElementPositionsInDocumentTreeOrder) tries to\n>   compare animations that include ones from the now-removed fallback element\n>   7. The Styleable struct holds an Element& reference that's now stale/dangling\n>   8. Accessing a member on that element (at offset 0x40) crashes\n> \n>   Why both are required:\n>   - With only enter: there's only one animation, no sorting comparison needed\n>   - With only exit: the exiting element's animation exists but there's no second animation\n>    to compare against\n>   - With both: WebKit must sort multiple animations, and the comparator accesses the\n>   removed element\n> \n>   WebKit bug: The animation collection/sorting doesn't properly filter out or guard\n>   against animations whose owning elements have been removed from the document tree.\n\n",
        "author_association": "COLLABORATOR",
        "reactions": {
          "url": "https://api.github.com/repos/facebook/react/issues/comments/3632058636/reactions",
          "total_count": 0,
          "+1": 0,
          "-1": 0,
          "laugh": 0,
          "hooray": 0,
          "confused": 0,
          "heart": 0,
          "rocket": 0,
          "eyes": 0
        },
        "performed_via_github_app": null
      },
      {
        "url": "https://api.github.com/repos/facebook/react/issues/comments/3632065735",
        "html_url": "https://github.com/facebook/react/issues/35336#issuecomment-3632065735",
        "issue_url": "https://api.github.com/repos/facebook/react/issues/35336",
        "id": 3632065735,
        "node_id": "IC_kwDOAJy2Ks7YfOzH",
        "user": {
          "login": "gaearon",
          "id": 810438,
          "node_id": "MDQ6VXNlcjgxMDQzOA==",
          "avatar_url": "https://avatars.githubusercontent.com/u/810438?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/gaearon",
          "html_url": "https://github.com/gaearon",
          "followers_url": "https://api.github.com/users/gaearon/followers",
          "following_url": "https://api.github.com/users/gaearon/following{/other_user}",
          "gists_url": "https://api.github.com/users/gaearon/gists{/gist_id}",
          "starred_url": "https://api.github.com/users/gaearon/starred{/owner}{/repo}",
          "subscriptions_url": "https://api.github.com/users/gaearon/subscriptions",
          "organizations_url": "https://api.github.com/users/gaearon/orgs",
          "repos_url": "https://api.github.com/users/gaearon/repos",
          "events_url": "https://api.github.com/users/gaearon/events{/privacy}",
          "received_events_url": "https://api.github.com/users/gaearon/received_events",
          "type": "User",
          "user_view_type": "public",
          "site_admin": false
        },
        "created_at": "2025-12-09T12:40:22Z",
        "updated_at": "2025-12-09T12:40:22Z",
        "body": "Speculative fix from Claude https://github.com/facebook/react/pull/35337",
        "author_association": "COLLABORATOR",
        "reactions": {
          "url": "https://api.github.com/repos/facebook/react/issues/comments/3632065735/reactions",
          "total_count": 0,
          "+1": 0,
          "-1": 0,
          "laugh": 0,
          "hooray": 0,
          "confused": 0,
          "heart": 0,
          "rocket": 0,
          "eyes": 0
        },
        "performed_via_github_app": null
      },
      {
        "url": "https://api.github.com/repos/facebook/react/issues/comments/3632134802",
        "html_url": "https://github.com/facebook/react/issues/35336#issuecomment-3632134802",
        "issue_url": "https://api.github.com/repos/facebook/react/issues/35336",
        "id": 3632134802,
        "node_id": "IC_kwDOAJy2Ks7YffqS",
        "user": {
          "login": "gaearon",
          "id": 810438,
          "node_id": "MDQ6VXNlcjgxMDQzOA==",
          "avatar_url": "https://avatars.githubusercontent.com/u/810438?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/gaearon",
          "html_url": "https://github.com/gaearon",
          "followers_url": "https://api.github.com/users/gaearon/followers",
          "following_url": "https://api.github.com/users/gaearon/following{/other_user}",
          "gists_url": "https://api.github.com/users/gaearon/gists{/gist_id}",
          "starred_url": "https://api.github.com/users/gaearon/starred{/owner}{/repo}",
          "subscriptions_url": "https://api.github.com/users/gaearon/subscriptions",
          "organizations_url": "https://api.github.com/users/gaearon/orgs",
          "repos_url": "https://api.github.com/users/gaearon/repos",
          "events_url": "https://api.github.com/users/gaearon/events{/privacy}",
          "received_events_url": "https://api.github.com/users/gaearon/received_events",
          "type": "User",
          "user_view_type": "public",
          "site_admin": false
        },
        "created_at": "2025-12-09T12:56:38Z",
        "updated_at": "2025-12-09T13:11:42Z",
        "body": "Non-React repro if someone wants to file a radar:\n\n```html\n<!DOCTYPE html>\n<html>\n<head>\n  <meta name=\"viewport\" content=\"width=device-width, initial-scale=1\">\n  <style>\n    ::view-transition-old(*) { animation: 300ms both fade-out; }\n    ::view-transition-new(*) { animation: 300ms both fade-in; }\n    @keyframes fade-out { to { opacity: 0; } }\n    @keyframes fade-in { from { opacity: 0; } }\n  </style>\n</head>\n<body>\n  <div id=\"a\" style=\"view-transition-name:a\">A</div>\n  <script>\n    const t = document.startViewTransition(() => {\n      a.remove();\n      const c = document.createElement('div');\n      c.id = 'c';\n      c.textContent = 'C';\n      c.style.viewTransitionName = 'c';\n      document.body.appendChild(c);\n    });\n    t.ready.then(() => document.documentElement.getAnimations({subtree:true}));\n    t.finished.then(() => document.documentElement.getAnimations({subtree:true}));\n  </script>\n</body>\n</html>\n```",
        "author_association": "COLLABORATOR",
        "reactions": {
          "url": "https://api.github.com/repos/facebook/react/issues/comments/3632134802/reactions",
          "total_count": 1,
          "+1": 1,
          "-1": 0,
          "laugh": 0,
          "hooray": 0,
          "confused": 0,
          "heart": 0,
          "rocket": 0,
          "eyes": 0
        },
        "performed_via_github_app": null
      }
    ]
  }
}