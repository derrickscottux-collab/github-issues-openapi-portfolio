{
  "source": "postman_saved_example",
  "collection": {
    "name": "Github Issues API",
    "postman_id": "87da17a2-7498-4c98-a419-04b7724e165e"
  },
  "item_path": "Parameter Validation/TEST #18: Filter by Mentioned",
  "request": {
    "name": "TEST #18: Filter by Mentioned",
    "method": "GET",
    "raw_url": "",
    "path_template": ""
  },
  "response": {
    "name": "TEST-18_Filter-mentioned-user_200",
    "status": "OK",
    "code": 200,
    "headers": {
      "Date": "Fri, 19 Dec 2025 03:47:13 GMT",
      "Content-Type": "application/json; charset=utf-8",
      "Cache-Control": "private, max-age=60, s-maxage=60",
      "Vary": "Accept, Authorization, Cookie, X-GitHub-OTP,Accept-Encoding, Accept, X-Requested-With",
      "ETag": "W/\"572e298b2407c220716b6e888de1484583717e87ac88f7f8d8c678b7e826c831\"",
      "X-OAuth-Scopes": "repo",
      "X-Accepted-OAuth-Scopes": "repo",
      "github-authentication-token-expiration": "2026-01-09 06:19:21 UTC",
      "X-GitHub-Media-Type": "github.v3; format=json",
      "Link": "<https://api.github.com/repositories/10270250/issues?mentioned=gaearon&after=Y3Vyc29yOnYyOpLPAAABechMCajONiXigw%3D%3D&per_page=30&page=2>; rel=\"next\"",
      "x-github-api-version-selected": "2022-11-28",
      "Access-Control-Expose-Headers": "ETag, Link, Location, Retry-After, X-GitHub-OTP, X-RateLimit-Limit, X-RateLimit-Remaining, X-RateLimit-Used, X-RateLimit-Resource, X-RateLimit-Reset, X-OAuth-Scopes, X-Accepted-OAuth-Scopes, X-Poll-Interval, X-GitHub-Media-Type, X-GitHub-SSO, X-GitHub-Request-Id, Deprecation, Sunset",
      "Access-Control-Allow-Origin": "*",
      "Strict-Transport-Security": "max-age=31536000; includeSubdomains; preload",
      "X-Frame-Options": "deny",
      "X-Content-Type-Options": "nosniff",
      "X-XSS-Protection": "0",
      "Referrer-Policy": "origin-when-cross-origin, strict-origin-when-cross-origin",
      "Content-Security-Policy": "default-src 'none'",
      "Content-Encoding": "gzip",
      "Transfer-Encoding": "chunked",
      "X-GitHub-Request-Id": "D114:19324D:18E0EBE:6D0F6CF:6944CAC0",
      "Server": "github.com",
      "X-RateLimit-Limit": "5000",
      "X-RateLimit-Remaining": "4999",
      "X-RateLimit-Reset": "1766119632",
      "X-RateLimit-Used": "1",
      "X-RateLimit-Resource": "core"
    },
    "date_utc": "2025-12-19T03:47:13+00:00",
    "date_et": "2025-12-18T22:47:13-05:00",
    "body": [
      {
        "url": "https://api.github.com/repos/facebook/react/issues/35084",
        "repository_url": "https://api.github.com/repos/facebook/react",
        "labels_url": "https://api.github.com/repos/facebook/react/issues/35084/labels{/name}",
        "comments_url": "https://api.github.com/repos/facebook/react/issues/35084/comments",
        "events_url": "https://api.github.com/repos/facebook/react/issues/35084/events",
        "html_url": "https://github.com/facebook/react/pull/35084",
        "id": 3603950575,
        "node_id": "PR_kwDOAJy2Ks6yUrDp",
        "number": 35084,
        "title": "[flag] warn for setState in render on initial mount",
        "user": {
          "login": "rickhanlonii",
          "id": 2440089,
          "node_id": "MDQ6VXNlcjI0NDAwODk=",
          "avatar_url": "https://avatars.githubusercontent.com/u/2440089?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/rickhanlonii",
          "html_url": "https://github.com/rickhanlonii",
          "followers_url": "https://api.github.com/users/rickhanlonii/followers",
          "following_url": "https://api.github.com/users/rickhanlonii/following{/other_user}",
          "gists_url": "https://api.github.com/users/rickhanlonii/gists{/gist_id}",
          "starred_url": "https://api.github.com/users/rickhanlonii/starred{/owner}{/repo}",
          "subscriptions_url": "https://api.github.com/users/rickhanlonii/subscriptions",
          "organizations_url": "https://api.github.com/users/rickhanlonii/orgs",
          "repos_url": "https://api.github.com/users/rickhanlonii/repos",
          "events_url": "https://api.github.com/users/rickhanlonii/events{/privacy}",
          "received_events_url": "https://api.github.com/users/rickhanlonii/received_events",
          "type": "User",
          "user_view_type": "public",
          "site_admin": false
        },
        "labels": [
          {
            "id": 196858374,
            "node_id": "MDU6TGFiZWwxOTY4NTgzNzQ=",
            "url": "https://api.github.com/repos/facebook/react/labels/CLA%20Signed",
            "name": "CLA Signed",
            "color": "e7e7e7",
            "default": false,
            "description": null
          },
          {
            "id": 1775958285,
            "node_id": "MDU6TGFiZWwxNzc1OTU4Mjg1",
            "url": "https://api.github.com/repos/facebook/react/labels/React%20Core%20Team",
            "name": "React Core Team",
            "color": "9149d1",
            "default": false,
            "description": "Opened by a member of the React Core Team"
          }
        ],
        "state": "open",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 3,
        "created_at": "2025-11-08T20:40:27Z",
        "updated_at": "2025-11-11T21:45:34Z",
        "closed_at": null,
        "author_association": "MEMBER",
        "type": null,
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
          "url": "https://api.github.com/repos/facebook/react/pulls/35084",
          "html_url": "https://github.com/facebook/react/pull/35084",
          "diff_url": "https://github.com/facebook/react/pull/35084.diff",
          "patch_url": "https://github.com/facebook/react/pull/35084.patch",
          "merged_at": null
        },
        "body": "## Overview\r\n\r\nAdd a feature flag `disableSetStateInRenderOnMount` to start experimenting with warning for setState in initial render. \r\n\r\n## Motivation\r\n\r\nThe main reason to start warning about this now is that supporting this prevents us from landing SSR optimizations such as inlining hooks and removing code to support updates during SSR. But this also indicates a performance issue in the app that can usually be easily fixed.\r\n\r\n### Pattern isn't useful\r\n\r\nUsually, calling `setState` in initial render of a component is an accident, by forgetting to pass the initial value into `useState()`: \r\n\r\n```js\r\nfunction Component({value}) {\r\n  const [prev, setPrev] = useState();   // ðŸš© oops!\r\n  if (prev !== value) {\r\n    setPrev(value);\r\n  }\r\n}\r\n```\r\n\r\nFor those use cases, the warning will fire and applying an easy fix to pass the inital state will give performance benefits since we won't need to immediately re-render a component on mount. \r\n\r\n```js\r\nfunction Component({value}) {\r\n  const [prev, setPrev] = useState(value);   // ðŸ˜Ž\r\n  if (prev !== value) {\r\n    setPrev(value);\r\n  }\r\n}\r\n```\r\n\r\nNow this will setState in render on updates.\r\n\r\n### Future SSR improvements\r\n\r\nIf this pattern is fixed, we could compile the SSR bundle code from:\r\n\r\n```js\r\nfunction Component({value}) {\r\n  const [prev, setPrev] = useState(value);\r\n  if (prev !== value) {\r\n    setPrev(value);\r\n  }\r\n  const derivedValue = useMemo(() => {\r\n    return value.filter(Boolean);\r\n  }, value);\r\n  \r\n  //...\r\n}\r\n```\r\n\r\nTo: \r\n\r\n```js\r\nfunction Component({value}) {\r\n  const [prev, setPrev] = [value, () => {}];\r\n  const derivedValue = value.filter(Boolean);\r\n    \r\n  //...\r\n}\r\n```\r\nThis could be a huge speedup in SSR performance. \r\n\r\n### Experiment\r\n\r\nTo confirm how many cases fall into the easy fix, I'm rolling out a feature flag to test it in a large app to see what use cases are depending on this, and how difficult the fixes are. \r\n\r\n## Review\r\n\r\nIt's a pain to update the tests for Fiber and Fizz in different PRs because of the server integration tests. \r\n\r\nHere's how the different warnings are implemented in separate commits:\r\n\r\n- [Fiber warning commit](https://github.com/facebook/react/pull/35084/commits/4d1f6b1c03e6a67b3f0e7aaf5602720e5d41fc9a) https://github.com/facebook/react/pull/35084/commits/4d1f6b1c03e6a67b3f0e7aaf5602720e5d41fc9a\r\n- [Fizz warning commit](https://github.com/facebook/react/pull/35084/commits/8b35055948ac299567346b1d0e0f1853c02baf83) https://github.com/facebook/react/pull/35084/commits/8b35055948ac299567346b1d0e0f1853c02baf83\r\n",
        "closed_by": null,
        "reactions": {
          "url": "https://api.github.com/repos/facebook/react/issues/35084/reactions",
          "total_count": 1,
          "+1": 0,
          "-1": 0,
          "laugh": 0,
          "hooray": 0,
          "confused": 0,
          "heart": 0,
          "rocket": 0,
          "eyes": 1
        },
        "timeline_url": "https://api.github.com/repos/facebook/react/issues/35084/timeline",
        "performed_via_github_app": null,
        "state_reason": null
      },
      {
        "url": "https://api.github.com/repos/facebook/react/issues/34556",
        "repository_url": "https://api.github.com/repos/facebook/react",
        "labels_url": "https://api.github.com/repos/facebook/react/issues/34556/labels{/name}",
        "comments_url": "https://api.github.com/repos/facebook/react/issues/34556/comments",
        "events_url": "https://api.github.com/repos/facebook/react/issues/34556/events",
        "html_url": "https://github.com/facebook/react/issues/34556",
        "id": 3442199371,
        "node_id": "I_kwDOAJy2Ks7NK8tL",
        "number": 34556,
        "title": "Bug: [React 19.1/19.2] useEffect does not run after changed dependencies due to startTransition",
        "user": {
          "login": "daniele-orlando",
          "id": 504386,
          "node_id": "MDQ6VXNlcjUwNDM4Ng==",
          "avatar_url": "https://avatars.githubusercontent.com/u/504386?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/daniele-orlando",
          "html_url": "https://github.com/daniele-orlando",
          "followers_url": "https://api.github.com/users/daniele-orlando/followers",
          "following_url": "https://api.github.com/users/daniele-orlando/following{/other_user}",
          "gists_url": "https://api.github.com/users/daniele-orlando/gists{/gist_id}",
          "starred_url": "https://api.github.com/users/daniele-orlando/starred{/owner}{/repo}",
          "subscriptions_url": "https://api.github.com/users/daniele-orlando/subscriptions",
          "organizations_url": "https://api.github.com/users/daniele-orlando/orgs",
          "repos_url": "https://api.github.com/users/daniele-orlando/repos",
          "events_url": "https://api.github.com/users/daniele-orlando/events{/privacy}",
          "received_events_url": "https://api.github.com/users/daniele-orlando/received_events",
          "type": "User",
          "user_view_type": "public",
          "site_admin": false
        },
        "labels": [
          {
            "id": 155984160,
            "node_id": "MDU6TGFiZWwxNTU5ODQxNjA=",
            "url": "https://api.github.com/repos/facebook/react/labels/Status:%20Unconfirmed",
            "name": "Status: Unconfirmed",
            "color": "d4c5f9",
            "default": false,
            "description": "A potential issue that we haven't yet confirmed as a bug"
          }
        ],
        "state": "open",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 14,
        "created_at": "2025-09-22T18:29:28Z",
        "updated_at": "2025-10-21T09:21:00Z",
        "closed_at": null,
        "author_association": "NONE",
        "type": null,
        "active_lock_reason": null,
        "sub_issues_summary": {
          "total": 0,
          "completed": 0,
          "percent_completed": 0
        },
        "issue_dependencies_summary": {
          "blocked_by": 0,
          "total_blocked_by": 0,
          "blocking": 0,
          "total_blocking": 0
        },
        "body": "React version: 19.1.0/19.2.0\n\nuseEffect does not run after changed dependencies, due to startTransition.\n\n## Steps To Reproduce\n\n1. Open the [StackBlitz reproduction](https://stackblitz.com/edit/react-oc8htha1-yusxygge?file=src%2Fmain.hook.ts)\n2. open the terminal\n3. `npm install`\n4. `npm run start` or `npm run start:dev`\n5. Open the browser Developer Tools\n6. Select Console tab from the Developer Tools\n7. Load/reload the StackBlitz preview page\n8. Watch the Developer Tools console logs.\n\nLink to code reproductions:\n- [StackBlitz](https://stackblitz.com/edit/react-oc8htha1-yusxygge?file=src%2Fmain.hook.ts)\n\n## The current behavior\nFile `src/main.hooks.ts` contains an hook named `useData`. Inside this hook, the `useEffect` at line `53` should be executed 2 times because dependencies change 2 times (first with value `undefined` and second time with value `1`), but it is executed only once.\n\nFollowing Developer Tools Console screenshot shows the issue.\n<img width=\"722\" height=\"218\" alt=\"Image\" src=\"https://github.com/user-attachments/assets/5a0ef768-b147-4aef-b7fa-47970e5b81a9\" />\n\n## The expected behavior\nThe `useEffect` at line `53` should be executed 2 times because dependencies change 2 times (first with value `undefined` and second time with value `1`).\n\nFollowing Developer Tools Console screenshot shows the correct behavior.\n<img width=\"722\" height=\"218\" alt=\"Image\" src=\"https://github.com/user-attachments/assets/2b931a29-d154-4f98-8620-329f94f26ac0\" />\n\nCorrect behavior can be achieved with one of these two **workarounds**:\n- comment line `32` disabling the `setExample(ExampleInitialValue)`\n- de-comment line `38` enabling `setExample(ExampleInitialValue + 1)`\n\n## More Details\n\nIn this screenshot I show a brief explanation of the hook flow.\n\n<img width=\"1029\" height=\"1301\" alt=\"Image\" src=\"https://github.com/user-attachments/assets/2e7b0534-7130-4123-a28b-dd598ecbe40b\" />",
        "closed_by": null,
        "reactions": {
          "url": "https://api.github.com/repos/facebook/react/issues/34556/reactions",
          "total_count": 0,
          "+1": 0,
          "-1": 0,
          "laugh": 0,
          "hooray": 0,
          "confused": 0,
          "heart": 0,
          "rocket": 0,
          "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/facebook/react/issues/34556/timeline",
        "performed_via_github_app": null,
        "state_reason": null
      },
      {
        "url": "https://api.github.com/repos/facebook/react/issues/31569",
        "repository_url": "https://api.github.com/repos/facebook/react",
        "labels_url": "https://api.github.com/repos/facebook/react/issues/31569/labels{/name}",
        "comments_url": "https://api.github.com/repos/facebook/react/issues/31569/comments",
        "events_url": "https://api.github.com/repos/facebook/react/issues/31569/events",
        "html_url": "https://github.com/facebook/react/issues/31569",
        "id": 2666434774,
        "node_id": "I_kwDOAJy2Ks6e7pDW",
        "number": 31569,
        "title": "[Compiler Bug]: False positive local mutation warning inside filter",
        "user": {
          "login": "gaearon",
          "id": 810438,
          "node_id": "MDQ6VXNlcjgxMDQzOA==",
          "avatar_url": "https://avatars.githubusercontent.com/u/810438?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/gaearon",
          "html_url": "https://github.com/gaearon",
          "followers_url": "https://api.github.com/users/gaearon/followers",
          "following_url": "https://api.github.com/users/gaearon/following{/other_user}",
          "gists_url": "https://api.github.com/users/gaearon/gists{/gist_id}",
          "starred_url": "https://api.github.com/users/gaearon/starred{/owner}{/repo}",
          "subscriptions_url": "https://api.github.com/users/gaearon/subscriptions",
          "organizations_url": "https://api.github.com/users/gaearon/orgs",
          "repos_url": "https://api.github.com/users/gaearon/repos",
          "events_url": "https://api.github.com/users/gaearon/events{/privacy}",
          "received_events_url": "https://api.github.com/users/gaearon/received_events",
          "type": "User",
          "user_view_type": "public",
          "site_admin": false
        },
        "labels": [
          {
            "id": 40929151,
            "node_id": "MDU6TGFiZWw0MDkyOTE1MQ==",
            "url": "https://api.github.com/repos/facebook/react/labels/Type:%20Bug",
            "name": "Type: Bug",
            "color": "b60205",
            "default": false,
            "description": null
          },
          {
            "id": 180616330,
            "node_id": "MDU6TGFiZWwxODA2MTYzMzA=",
            "url": "https://api.github.com/repos/facebook/react/labels/Component:%20React%20Compiler",
            "name": "Component: React Compiler",
            "color": "bfdadc",
            "default": false,
            "description": ""
          }
        ],
        "state": "open",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 7,
        "created_at": "2024-11-17T20:15:49Z",
        "updated_at": "2025-11-03T20:38:27Z",
        "closed_at": null,
        "author_association": "COLLABORATOR",
        "type": null,
        "active_lock_reason": null,
        "sub_issues_summary": {
          "total": 0,
          "completed": 0,
          "percent_completed": 0
        },
        "issue_dependencies_summary": {
          "blocked_by": 0,
          "total_blocked_by": 0,
          "blocking": 0,
          "total_blocking": 0
        },
        "body": "### What kind of issue is this?\n\n- [ ] React Compiler core (the JS output is incorrect, or your app works incorrectly after optimization)\n- [ ] babel-plugin-react-compiler (build issue installing or using the Babel plugin)\n- [x] eslint-plugin-react-compiler (build issue installing or using the eslint plugin)\n- [ ] react-compiler-healthcheck (build issue installing or using the healthcheck script)\n\n### Link to repro\n\nhttps://playground.react.dev/#N4Igzg9grgTgxgUxALhASwLYAcIwC4AEASggIZyEBmMEGBA5DGRfQDoB2HCAHjvgZSjsKaCOwIBhWjnYJ2eABTA0eBBjABfAJQFgHAgThiwhE1EqUCAXmLM8AOihgEAWTUQFCnVYB8u-QYEADYIhGhgUhBB1gKkQc4BBkbsJgSQGAgAkqrqMSpqYImB9pRoQaowCnCkTgjWfnrigc1ollU1ziUQEDqNzf0E4ZHRNngwUAhFzRpTgUx4sOJjE7PaHEWtBArpWTlg9iHsAOZ4ABYEfgAMvbPzi7o72QUANIMR3UEzTQZfP68A2vl1ABdLQBO4wcQAHgAJmgAG4EAD0Pg4XxAGiAA\n\n### Repro steps\n\n```js\r\nimport React from 'react'\r\n\r\nexport function Component({items}) {\r\n  const stuff = React.useMemo(() => {\r\n    let isCool = false\r\n    const someItems = items\r\n      .filter(cause => {\r\n        if (cause.foo) {\r\n          isCool = true\r\n        }\r\n        return true\r\n      })\r\n\r\n    if (someItems.length > 0) {\r\n      return {someItems, isCool}\r\n    }\r\n  }, [items])\r\n  return <div />\r\n}\r\n```\r\n\r\nGetting:\r\n\r\n```\r\nInvalidReact: Reassigning a variable after render has completed can cause inconsistent behavior on subsequent renders. Consider using state instead. Variable `isCool` cannot be reassigned after render (9:9)\r\n```\r\n\r\nBut it's not used after render. Curiously, changing the `if` condition to something that doesn't refer to `someItems` helps.\n\n### How often does this bug happen?\n\nEvery time\n\n### What version of React are you using?\n\n18.2.0\n\n### What version of React Compiler are you using?\n\n19.0.0-beta-a7bf2bd-20241110",
        "closed_by": null,
        "reactions": {
          "url": "https://api.github.com/repos/facebook/react/issues/31569/reactions",
          "total_count": 9,
          "+1": 5,
          "-1": 0,
          "laugh": 0,
          "hooray": 0,
          "confused": 0,
          "heart": 4,
          "rocket": 0,
          "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/facebook/react/issues/31569/timeline",
        "performed_via_github_app": null,
        "state_reason": null
      },
      {
        "url": "https://api.github.com/repos/facebook/react/issues/31520",
        "repository_url": "https://api.github.com/repos/facebook/react",
        "labels_url": "https://api.github.com/repos/facebook/react/issues/31520/labels{/name}",
        "comments_url": "https://api.github.com/repos/facebook/react/issues/31520/comments",
        "events_url": "https://api.github.com/repos/facebook/react/issues/31520/events",
        "html_url": "https://github.com/facebook/react/issues/31520",
        "id": 2652979268,
        "node_id": "I_kwDOAJy2Ks6eIUBE",
        "number": 31520,
        "title": "Align on HTML attribute/property casing (ie not camelCase)",
        "user": {
          "login": "titoBouzout",
          "id": 64156,
          "node_id": "MDQ6VXNlcjY0MTU2",
          "avatar_url": "https://avatars.githubusercontent.com/u/64156?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/titoBouzout",
          "html_url": "https://github.com/titoBouzout",
          "followers_url": "https://api.github.com/users/titoBouzout/followers",
          "following_url": "https://api.github.com/users/titoBouzout/following{/other_user}",
          "gists_url": "https://api.github.com/users/titoBouzout/gists{/gist_id}",
          "starred_url": "https://api.github.com/users/titoBouzout/starred{/owner}{/repo}",
          "subscriptions_url": "https://api.github.com/users/titoBouzout/subscriptions",
          "organizations_url": "https://api.github.com/users/titoBouzout/orgs",
          "repos_url": "https://api.github.com/users/titoBouzout/repos",
          "events_url": "https://api.github.com/users/titoBouzout/events{/privacy}",
          "received_events_url": "https://api.github.com/users/titoBouzout/received_events",
          "type": "User",
          "user_view_type": "public",
          "site_admin": false
        },
        "labels": [
          {
            "id": 710375792,
            "node_id": "MDU6TGFiZWw3MTAzNzU3OTI=",
            "url": "https://api.github.com/repos/facebook/react/labels/Type:%20Discussion",
            "name": "Type: Discussion",
            "color": "fef2c0",
            "default": false,
            "description": null
          }
        ],
        "state": "open",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 7,
        "created_at": "2024-11-12T18:25:37Z",
        "updated_at": "2024-11-25T03:24:55Z",
        "closed_at": null,
        "author_association": "NONE",
        "type": null,
        "active_lock_reason": null,
        "sub_issues_summary": {
          "total": 0,
          "completed": 0,
          "percent_completed": 0
        },
        "issue_dependencies_summary": {
          "blocked_by": 0,
          "total_blocked_by": 0,
          "blocking": 0,
          "total_blocking": 0
        },
        "body": "## Summary\r\n\r\n<!--\r\n  Please provide a CodeSandbox (https://codesandbox.io/s/new), a link to a\r\n  repository on GitHub, or provide a minimal code example that reproduces the\r\n  problem. You may provide a screenshot of the application if you think it is\r\n  relevant to your bug report. Here are some tips for providing a minimal\r\n  example: https://stackoverflow.com/help/mcve.\r\n-->\r\n\r\nI am cross-posting an issue I made with Preact and Voby \r\nhttps://github.com/preactjs/preact/issues/4555\r\nhttps://github.com/vobyjs/voby/issues/45",
        "closed_by": null,
        "reactions": {
          "url": "https://api.github.com/repos/facebook/react/issues/31520/reactions",
          "total_count": 0,
          "+1": 0,
          "-1": 0,
          "laugh": 0,
          "hooray": 0,
          "confused": 0,
          "heart": 0,
          "rocket": 0,
          "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/facebook/react/issues/31520/timeline",
        "performed_via_github_app": null,
        "state_reason": null
      },
      {
        "url": "https://api.github.com/repos/facebook/react/issues/27933",
        "repository_url": "https://api.github.com/repos/facebook/react",
        "labels_url": "https://api.github.com/repos/facebook/react/issues/27933/labels{/name}",
        "comments_url": "https://api.github.com/repos/facebook/react/issues/27933/comments",
        "events_url": "https://api.github.com/repos/facebook/react/issues/27933/events",
        "html_url": "https://github.com/facebook/react/issues/27933",
        "id": 2080158337,
        "node_id": "I_kwDOAJy2Ks57_LKB",
        "number": 27933,
        "title": "Bug: [React Refresh] Unexpected behavior when adding/removing elements prior to uncontrolled inputs",
        "user": {
          "login": "lawrencecchen",
          "id": 54008264,
          "node_id": "MDQ6VXNlcjU0MDA4MjY0",
          "avatar_url": "https://avatars.githubusercontent.com/u/54008264?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/lawrencecchen",
          "html_url": "https://github.com/lawrencecchen",
          "followers_url": "https://api.github.com/users/lawrencecchen/followers",
          "following_url": "https://api.github.com/users/lawrencecchen/following{/other_user}",
          "gists_url": "https://api.github.com/users/lawrencecchen/gists{/gist_id}",
          "starred_url": "https://api.github.com/users/lawrencecchen/starred{/owner}{/repo}",
          "subscriptions_url": "https://api.github.com/users/lawrencecchen/subscriptions",
          "organizations_url": "https://api.github.com/users/lawrencecchen/orgs",
          "repos_url": "https://api.github.com/users/lawrencecchen/repos",
          "events_url": "https://api.github.com/users/lawrencecchen/events{/privacy}",
          "received_events_url": "https://api.github.com/users/lawrencecchen/received_events",
          "type": "User",
          "user_view_type": "public",
          "site_admin": false
        },
        "labels": [
          {
            "id": 40929151,
            "node_id": "MDU6TGFiZWw0MDkyOTE1MQ==",
            "url": "https://api.github.com/repos/facebook/react/labels/Type:%20Bug",
            "name": "Type: Bug",
            "color": "b60205",
            "default": false,
            "description": null
          },
          {
            "id": 1649755876,
            "node_id": "MDU6TGFiZWwxNjQ5NzU1ODc2",
            "url": "https://api.github.com/repos/facebook/react/labels/Component:%20Fast%20Refresh",
            "name": "Component: Fast Refresh",
            "color": "473bcc",
            "default": false,
            "description": ""
          }
        ],
        "state": "open",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 7,
        "created_at": "2024-01-13T07:36:53Z",
        "updated_at": "2024-02-25T20:10:10Z",
        "closed_at": null,
        "author_association": "NONE",
        "type": null,
        "active_lock_reason": null,
        "sub_issues_summary": {
          "total": 0,
          "completed": 0,
          "percent_completed": 0
        },
        "issue_dependencies_summary": {
          "blocked_by": 0,
          "total_blocked_by": 0,
          "blocking": 0,
          "total_blocking": 0
        },
        "body": "<!--\r\n  Please provide a clear and concise description of what the bug is. Include\r\n  screenshots if needed. Please test using the latest version of the relevant\r\n  React packages to make sure your issue has not already been fixed.\r\n-->\r\n\r\nReact version: 18.2.0\r\n\r\n## Steps To Reproduce\r\n\r\n\r\nhttps://github.com/facebook/react/assets/54008264/94e69206-48a1-4064-a89c-583aadcd8269\r\n\r\n\r\n\r\n1. https://stackblitz.com/edit/vitejs-vite-cswk6t?file=src%2FApp.tsx\r\n2. Enter 1, 2, 3, and 4 respectively in each textbox\r\n3. Comment and uncomment the `<br />` and save\r\n\r\n\r\n```tsx\r\nfunction App() {\r\n  return (\r\n    <>\r\n      <div>\r\n        {/* COMMENT AND UNCOMMENT THIS BR AND SAVE */}\r\n        <br />\r\n        <input type=\"text\" />\r\n        <input type=\"text\" />\r\n        <input type=\"text\" />\r\n        <input type=\"text\" />\r\n      </div>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default App;\r\n```\r\n\r\n<!--\r\n  Your bug will get fixed much faster if we can run your code and it doesn't\r\n  have dependencies other than React. Issues without reproduction steps or\r\n  code examples may be immediately closed as not actionable.\r\n-->\r\n\r\nLink to code example:\r\n\r\n<!--\r\n  Please provide a CodeSandbox (https://codesandbox.io/s/new), a link to a\r\n  repository on GitHub, or provide a minimal code example that reproduces the\r\n  problem. You may provide a screenshot of the application if you think it is\r\n  relevant to your bug report. Here are some tips for providing a minimal\r\n  example: https://stackoverflow.com/help/mcve.\r\n-->\r\n\r\nhttps://stackblitz.com/edit/vitejs-vite-cswk6t?file=src%2FApp.tsx\r\n\r\n## The current behavior\r\n\r\nUncontrolled inputs' values are not synced correctly. (I tested with controlled inputs, and it worked properly.)\r\nI verified that this bug exists in Safari (Version 17.1 (19616.2.9.11.7)) and Chrome (120.0.6099.199).\r\nTried in both Vite and Next.js, so I'm fairly certain it's a react refresh issue.\r\n\r\n```\r\n\"@vitejs/plugin-react\": \"^4.2.1\",\r\n\"next\": \"^14.0.3\",\r\n```\r\n\r\n## The expected behavior\r\n\r\nEach input should keep its own value.",
        "closed_by": null,
        "reactions": {
          "url": "https://api.github.com/repos/facebook/react/issues/27933/reactions",
          "total_count": 0,
          "+1": 0,
          "-1": 0,
          "laugh": 0,
          "hooray": 0,
          "confused": 0,
          "heart": 0,
          "rocket": 0,
          "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/facebook/react/issues/27933/timeline",
        "performed_via_github_app": null,
        "state_reason": null
      },
      {
        "url": "https://api.github.com/repos/facebook/react/issues/26886",
        "repository_url": "https://api.github.com/repos/facebook/react",
        "labels_url": "https://api.github.com/repos/facebook/react/issues/26886/labels{/name}",
        "comments_url": "https://api.github.com/repos/facebook/react/issues/26886/comments",
        "events_url": "https://api.github.com/repos/facebook/react/issues/26886/events",
        "html_url": "https://github.com/facebook/react/issues/26886",
        "id": 1736566206,
        "node_id": "I_kwDOAJy2Ks5ngeW-",
        "number": 26886,
        "title": "Bug: Inconsistent behavior with Promises near the root",
        "user": {
          "login": "gaearon",
          "id": 810438,
          "node_id": "MDQ6VXNlcjgxMDQzOA==",
          "avatar_url": "https://avatars.githubusercontent.com/u/810438?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/gaearon",
          "html_url": "https://github.com/gaearon",
          "followers_url": "https://api.github.com/users/gaearon/followers",
          "following_url": "https://api.github.com/users/gaearon/following{/other_user}",
          "gists_url": "https://api.github.com/users/gaearon/gists{/gist_id}",
          "starred_url": "https://api.github.com/users/gaearon/starred{/owner}{/repo}",
          "subscriptions_url": "https://api.github.com/users/gaearon/subscriptions",
          "organizations_url": "https://api.github.com/users/gaearon/orgs",
          "repos_url": "https://api.github.com/users/gaearon/repos",
          "events_url": "https://api.github.com/users/gaearon/events{/privacy}",
          "received_events_url": "https://api.github.com/users/gaearon/received_events",
          "type": "User",
          "user_view_type": "public",
          "site_admin": false
        },
        "labels": [
          {
            "id": 40929151,
            "node_id": "MDU6TGFiZWw0MDkyOTE1MQ==",
            "url": "https://api.github.com/repos/facebook/react/labels/Type:%20Bug",
            "name": "Type: Bug",
            "color": "b60205",
            "default": false,
            "description": null
          }
        ],
        "state": "open",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 1,
        "created_at": "2023-06-01T15:25:07Z",
        "updated_at": "2024-02-24T15:09:50Z",
        "closed_at": null,
        "author_association": "COLLABORATOR",
        "type": null,
        "active_lock_reason": null,
        "sub_issues_summary": {
          "total": 0,
          "completed": 0,
          "percent_completed": 0
        },
        "issue_dependencies_summary": {
          "blocked_by": 0,
          "total_blocked_by": 0,
          "blocking": 0,
          "total_blocking": 0
        },
        "body": "Just jotting down some cases I found confusing.\r\nIdeally for each case, it should either work, or should fail in some obvious way.\r\n\r\n## Working: startTransition + 1000ms Promise root\r\n\r\n```js\r\nimport { startTransition } from \"react\";\r\nimport { createRoot } from \"react-dom/client\";\r\n\r\nconst rootElement = document.getElementById(\"root\");\r\nconst root = createRoot(rootElement);\r\n\r\nlet promise = new Promise((resolve) => {\r\n  setTimeout(() => {\r\n    resolve(<h1>hi</h1>);\r\n  }, 1000);\r\n});\r\n\r\nstartTransition(() => {\r\n  root.render(promise);\r\n});\r\n```\r\n\r\nhttps://codesandbox.io/s/goofy-rui-8g6sxh?file=/src/index.js\r\n\r\n## Working: startTransition + root component + 5000ms Promise child\r\n\r\n```js\r\nimport { startTransition } from \"react\";\r\nimport { createRoot } from \"react-dom/client\";\r\n\r\nconst rootElement = document.getElementById(\"root\");\r\nconst root = createRoot(rootElement);\r\n\r\nlet promise = new Promise((resolve) => {\r\n  setTimeout(() => {\r\n    resolve(<h1>hi</h1>);\r\n  }, 5000);\r\n});\r\n\r\nfunction Foo() {\r\n  return promise;\r\n}\r\n\r\nstartTransition(() => {\r\n  root.render(<Foo />);\r\n});\r\n```\r\n\r\nhttps://codesandbox.io/s/epic-cookies-v94rk2?file=/src/index.js\r\n\r\n## Working: No startTransition + root component + 5000ms Promise child\r\n\r\n```js\r\nimport { createRoot } from \"react-dom/client\";\r\n\r\nconst rootElement = document.getElementById(\"root\");\r\nconst root = createRoot(rootElement);\r\n\r\nlet promise = new Promise((resolve) => {\r\n  setTimeout(() => {\r\n    resolve(<h1>hi</h1>);\r\n  }, 5000);\r\n});\r\n\r\nfunction Foo() {\r\n  return promise;\r\n}\r\n\r\nroot.render(<Foo />);\r\n```\r\n\r\nhttps://codesandbox.io/s/zen-allen-2u1nr7?file=/src/index.js\r\n\r\n## Working: startTransition + root component + 1000ms Promise in state\r\n\r\n```js\r\nimport { useState, startTransition } from \"react\";\r\nimport { createRoot } from \"react-dom/client\";\r\n\r\nconst rootElement = document.getElementById(\"root\");\r\nconst root = createRoot(rootElement);\r\n\r\nfunction Foo() {\r\n  const [promise, setPromise] = useState(\r\n    new Promise((resolve) => {\r\n      setTimeout(() => {\r\n        resolve(<h1>hi</h1>);\r\n      }, 1000);\r\n    })\r\n  );\r\n  return promise;\r\n}\r\n\r\nstartTransition(() => {\r\n  root.render(<Foo />);\r\n});\r\n```\r\n\r\nhttps://codesandbox.io/s/immutable-moon-2h3dqz?file=/src/index.js\r\n\r\n## Working: startTransition + root component + 1000ms Promise in state + use\r\n\r\n```js\r\nimport { use, useState, startTransition } from \"react\";\r\nimport { createRoot } from \"react-dom/client\";\r\n\r\nconst rootElement = document.getElementById(\"root\");\r\nconst root = createRoot(rootElement);\r\n\r\nfunction Foo() {\r\n  const [promise, setPromise] = useState(\r\n    new Promise((resolve) => {\r\n      setTimeout(() => {\r\n        resolve(<h1>hi</h1>);\r\n      }, 1000);\r\n    })\r\n  );\r\n  return use(promise);\r\n}\r\n\r\nstartTransition(() => {\r\n  root.render(<Foo />);\r\n});\r\n```\r\n\r\nhttps://codesandbox.io/s/hungry-carlos-1n8hqu?file=/src/index.js\r\n\r\n## Crashes: startTransition + 5000ms Promise root\r\n\r\nThis doesn't work (with a confusing crash):\r\n\r\n```js\r\nimport { startTransition } from \"react\";\r\nimport { createRoot } from \"react-dom/client\";\r\n\r\nconst rootElement = document.getElementById(\"root\");\r\nconst root = createRoot(rootElement);\r\n\r\nlet promise = new Promise((resolve) => {\r\n  setTimeout(() => {\r\n    resolve(<h1>hi</h1>);\r\n  }, 5000); // <--- I increased the delay\r\n});\r\n\r\nstartTransition(() => {\r\n  root.render(promise);\r\n});\r\n\r\n```\r\n\r\nhttps://codesandbox.io/s/busy-torvalds-xgbcgh?file=/src/index.js\r\n\r\n## Crashes: No startTransition + 1000ms Promise root\r\n\r\nThis doesn't work (with a confusing crash):\r\n\r\n```js\r\nimport { createRoot } from \"react-dom/client\";\r\n\r\nconst rootElement = document.getElementById(\"root\");\r\nconst root = createRoot(rootElement);\r\n\r\nlet promise = new Promise((resolve) => {\r\n  setTimeout(() => {\r\n    resolve(<h1>hi</h1>);\r\n  }, 1000);\r\n});\r\n\r\nroot.render(promise); // No startTransition\r\n```\r\n\r\nhttps://codesandbox.io/s/serene-payne-677ghp?file=/src/index.js\r\n\r\n## Never resolves: No startTransition + root component + 1000ms Promise in state\r\n\r\n```js\r\nimport { useState } from \"react\";\r\nimport { createRoot } from \"react-dom/client\";\r\n\r\nconst rootElement = document.getElementById(\"root\");\r\nconst root = createRoot(rootElement);\r\n\r\nfunction Foo() {\r\n  const [promise, setPromise] = useState(\r\n    new Promise((resolve) => {\r\n      setTimeout(() => {\r\n        resolve(<h1>hi</h1>);\r\n      }, 1000);\r\n    })\r\n  );\r\n  return promise;\r\n}\r\n\r\nroot.render(<Foo />);\r\n```\r\n\r\nhttps://codesandbox.io/s/musing-chaplygin-2udvbx?file=/src/index.js\r\n\r\n## Never resolves: No startTransition + root component + 1000ms Promise in state + use\r\n\r\n```js\r\nimport { use, useState } from \"react\";\r\nimport { createRoot } from \"react-dom/client\";\r\n\r\nconst rootElement = document.getElementById(\"root\");\r\nconst root = createRoot(rootElement);\r\n\r\nfunction Foo() {\r\n  const [promise, setPromise] = useState(\r\n    new Promise((resolve) => {\r\n      setTimeout(() => {\r\n        resolve(<h1>hi</h1>);\r\n      }, 1000);\r\n    })\r\n  );\r\n  return use(promise);\r\n}\r\n\r\nroot.render(<Foo />);\r\n```\r\n\r\nhttps://codesandbox.io/s/blue-butterfly-3xywp2?file=/src/index.js:0-400",
        "closed_by": null,
        "reactions": {
          "url": "https://api.github.com/repos/facebook/react/issues/26886/reactions",
          "total_count": 2,
          "+1": 1,
          "-1": 0,
          "laugh": 0,
          "hooray": 0,
          "confused": 0,
          "heart": 1,
          "rocket": 0,
          "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/facebook/react/issues/26886/timeline",
        "performed_via_github_app": null,
        "state_reason": null
      },
      {
        "url": "https://api.github.com/repos/facebook/react/issues/26612",
        "repository_url": "https://api.github.com/repos/facebook/react",
        "labels_url": "https://api.github.com/repos/facebook/react/issues/26612/labels{/name}",
        "comments_url": "https://api.github.com/repos/facebook/react/issues/26612/comments",
        "events_url": "https://api.github.com/repos/facebook/react/issues/26612/events",
        "html_url": "https://github.com/facebook/react/issues/26612",
        "id": 1664953332,
        "node_id": "I_kwDOAJy2Ks5jPSv0",
        "number": 26612,
        "title": "Bug: Suspense should hide Portals deeper in the tree",
        "user": {
          "login": "gaearon",
          "id": 810438,
          "node_id": "MDQ6VXNlcjgxMDQzOA==",
          "avatar_url": "https://avatars.githubusercontent.com/u/810438?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/gaearon",
          "html_url": "https://github.com/gaearon",
          "followers_url": "https://api.github.com/users/gaearon/followers",
          "following_url": "https://api.github.com/users/gaearon/following{/other_user}",
          "gists_url": "https://api.github.com/users/gaearon/gists{/gist_id}",
          "starred_url": "https://api.github.com/users/gaearon/starred{/owner}{/repo}",
          "subscriptions_url": "https://api.github.com/users/gaearon/subscriptions",
          "organizations_url": "https://api.github.com/users/gaearon/orgs",
          "repos_url": "https://api.github.com/users/gaearon/repos",
          "events_url": "https://api.github.com/users/gaearon/events{/privacy}",
          "received_events_url": "https://api.github.com/users/gaearon/received_events",
          "type": "User",
          "user_view_type": "public",
          "site_admin": false
        },
        "labels": [
          {
            "id": 40929151,
            "node_id": "MDU6TGFiZWw0MDkyOTE1MQ==",
            "url": "https://api.github.com/repos/facebook/react/labels/Type:%20Bug",
            "name": "Type: Bug",
            "color": "b60205",
            "default": false,
            "description": null
          },
          {
            "id": 1109407645,
            "node_id": "MDU6TGFiZWwxMTA5NDA3NjQ1",
            "url": "https://api.github.com/repos/facebook/react/labels/Component:%20Suspense",
            "name": "Component: Suspense",
            "color": "8ffcd6",
            "default": false,
            "description": ""
          }
        ],
        "state": "open",
        "locked": false,
        "assignee": {
          "login": "tyao1",
          "id": 5868353,
          "node_id": "MDQ6VXNlcjU4NjgzNTM=",
          "avatar_url": "https://avatars.githubusercontent.com/u/5868353?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/tyao1",
          "html_url": "https://github.com/tyao1",
          "followers_url": "https://api.github.com/users/tyao1/followers",
          "following_url": "https://api.github.com/users/tyao1/following{/other_user}",
          "gists_url": "https://api.github.com/users/tyao1/gists{/gist_id}",
          "starred_url": "https://api.github.com/users/tyao1/starred{/owner}{/repo}",
          "subscriptions_url": "https://api.github.com/users/tyao1/subscriptions",
          "organizations_url": "https://api.github.com/users/tyao1/orgs",
          "repos_url": "https://api.github.com/users/tyao1/repos",
          "events_url": "https://api.github.com/users/tyao1/events{/privacy}",
          "received_events_url": "https://api.github.com/users/tyao1/received_events",
          "type": "User",
          "user_view_type": "public",
          "site_admin": false
        },
        "assignees": [
          {
            "login": "tyao1",
            "id": 5868353,
            "node_id": "MDQ6VXNlcjU4NjgzNTM=",
            "avatar_url": "https://avatars.githubusercontent.com/u/5868353?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/tyao1",
            "html_url": "https://github.com/tyao1",
            "followers_url": "https://api.github.com/users/tyao1/followers",
            "following_url": "https://api.github.com/users/tyao1/following{/other_user}",
            "gists_url": "https://api.github.com/users/tyao1/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/tyao1/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/tyao1/subscriptions",
            "organizations_url": "https://api.github.com/users/tyao1/orgs",
            "repos_url": "https://api.github.com/users/tyao1/repos",
            "events_url": "https://api.github.com/users/tyao1/events{/privacy}",
            "received_events_url": "https://api.github.com/users/tyao1/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          }
        ],
        "milestone": null,
        "comments": 1,
        "created_at": "2023-04-12T17:25:07Z",
        "updated_at": "2023-07-24T11:42:06Z",
        "closed_at": null,
        "author_association": "COLLABORATOR",
        "type": null,
        "active_lock_reason": null,
        "sub_issues_summary": {
          "total": 0,
          "completed": 0,
          "percent_completed": 0
        },
        "issue_dependencies_summary": {
          "blocked_by": 0,
          "total_blocked_by": 0,
          "blocking": 0,
          "total_blocking": 0
        },
        "body": "When Portal is a direct child of Suspense, suspending hides the portal: https://codesandbox.io/s/cocky-boyd-mlq2ko?file=/src/App.js\r\n\r\nBut when a Portal is deeper in the tree, suspending fails to hide the portal nodes: https://codesandbox.io/s/nostalgic-fog-udyhuz?file=/src/App.js\r\n\r\nWe need to fix this to recursively hide portals. There's a question of which traversal to use, and how it combines with existing traversal. E.g. does \"hiding\" happen before layout effects run?\r\n\r\nWe would also need to decide what to do with legacy mode. One option is to \"fix\" it there too. But that might be difficult to roll out. It might also be tricky to implement. Another option is to leave it as is (the current behavior is leaving a \"hole\" in place of the suspended component: https://codesandbox.io/s/elastic-ptolemy-2u6qel?file=/src/App.js). Then we'd need to make sure we at least keep that buggy behavior.\r\n\r\nWe might want to add an internal-only warning (to be muted but logged on devservers) to track _newly hidden_ nodes portals that wouldn't have been hidden with the previous algorithm. Then maybe this would let us know where to fix the UI and avoid the UI regression caused by modals disappearing.\r\n\r\nSummary of work that needs to be done:\r\n\r\n- [ ] Port sandboxes to failing tests\r\n- [ ] Implement new behavior behind a flag\r\n  - [ ] Figure out where hiding/showing happens during the commit phase\r\n  - [ ] Add new behavior (all direct children of portals, no matter how deep, get auto-shown/hidden)\r\n  - [ ] Decide what legacy renderer should do, write tests for that too\r\n  - [ ] (Maybe) add internal-only muted logging for content that would be hidden with new behavior",
        "closed_by": null,
        "reactions": {
          "url": "https://api.github.com/repos/facebook/react/issues/26612/reactions",
          "total_count": 0,
          "+1": 0,
          "-1": 0,
          "laugh": 0,
          "hooray": 0,
          "confused": 0,
          "heart": 0,
          "rocket": 0,
          "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/facebook/react/issues/26612/timeline",
        "performed_via_github_app": null,
        "state_reason": null
      },
      {
        "url": "https://api.github.com/repos/facebook/react/issues/25886",
        "repository_url": "https://api.github.com/repos/facebook/react",
        "labels_url": "https://api.github.com/repos/facebook/react/issues/25886/labels{/name}",
        "comments_url": "https://api.github.com/repos/facebook/react/issues/25886/comments",
        "events_url": "https://api.github.com/repos/facebook/react/issues/25886/events",
        "html_url": "https://github.com/facebook/react/issues/25886",
        "id": 1497674589,
        "node_id": "I_kwDOAJy2Ks5ZRLNd",
        "number": 25886,
        "title": "Bug: Rendering <Suspense> outside <body> should error",
        "user": {
          "login": "gaearon",
          "id": 810438,
          "node_id": "MDQ6VXNlcjgxMDQzOA==",
          "avatar_url": "https://avatars.githubusercontent.com/u/810438?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/gaearon",
          "html_url": "https://github.com/gaearon",
          "followers_url": "https://api.github.com/users/gaearon/followers",
          "following_url": "https://api.github.com/users/gaearon/following{/other_user}",
          "gists_url": "https://api.github.com/users/gaearon/gists{/gist_id}",
          "starred_url": "https://api.github.com/users/gaearon/starred{/owner}{/repo}",
          "subscriptions_url": "https://api.github.com/users/gaearon/subscriptions",
          "organizations_url": "https://api.github.com/users/gaearon/orgs",
          "repos_url": "https://api.github.com/users/gaearon/repos",
          "events_url": "https://api.github.com/users/gaearon/events{/privacy}",
          "received_events_url": "https://api.github.com/users/gaearon/received_events",
          "type": "User",
          "user_view_type": "public",
          "site_admin": false
        },
        "labels": [
          {
            "id": 40929151,
            "node_id": "MDU6TGFiZWw0MDkyOTE1MQ==",
            "url": "https://api.github.com/repos/facebook/react/labels/Type:%20Bug",
            "name": "Type: Bug",
            "color": "b60205",
            "default": false,
            "description": null
          },
          {
            "id": 710332294,
            "node_id": "MDU6TGFiZWw3MTAzMzIyOTQ=",
            "url": "https://api.github.com/repos/facebook/react/labels/Component:%20Server%20Rendering",
            "name": "Component: Server Rendering",
            "color": "d4c5f9",
            "default": false,
            "description": null
          }
        ],
        "state": "open",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 1,
        "created_at": "2022-12-15T02:09:43Z",
        "updated_at": "2023-08-18T19:55:28Z",
        "closed_at": null,
        "author_association": "COLLABORATOR",
        "type": null,
        "active_lock_reason": null,
        "sub_issues_summary": {
          "total": 0,
          "completed": 0,
          "percent_completed": 0
        },
        "issue_dependencies_summary": {
          "blocked_by": 0,
          "total_blocked_by": 0,
          "blocking": 0,
          "total_blocking": 0
        },
        "body": "Expected: it should error\r\nActual: it doesn't\r\n\r\nPossibly related: https://github.com/facebook/react/issues/25710#issuecomment-1352456042. In a standalone project, I've only managed to repro `<!--$-->` before doctype, but not between doctype and html as in the repro from that issue. I haven't confirmed that this is the actual cause of #25710, but at the very least we should have errored there as well.",
        "closed_by": null,
        "reactions": {
          "url": "https://api.github.com/repos/facebook/react/issues/25886/reactions",
          "total_count": 0,
          "+1": 0,
          "-1": 0,
          "laugh": 0,
          "hooray": 0,
          "confused": 0,
          "heart": 0,
          "rocket": 0,
          "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/facebook/react/issues/25886/timeline",
        "performed_via_github_app": null,
        "state_reason": null
      },
      {
        "url": "https://api.github.com/repos/facebook/react/issues/25734",
        "repository_url": "https://api.github.com/repos/facebook/react",
        "labels_url": "https://api.github.com/repos/facebook/react/issues/25734/labels{/name}",
        "comments_url": "https://api.github.com/repos/facebook/react/issues/25734/comments",
        "events_url": "https://api.github.com/repos/facebook/react/issues/25734/events",
        "html_url": "https://github.com/facebook/react/issues/25734",
        "id": 1462347606,
        "node_id": "I_kwDOAJy2Ks5XKadW",
        "number": 25734,
        "title": "Bug: Unexpected automatic batching behavior?",
        "user": {
          "login": "borisghidaglia",
          "id": 26144896,
          "node_id": "MDQ6VXNlcjI2MTQ0ODk2",
          "avatar_url": "https://avatars.githubusercontent.com/u/26144896?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/borisghidaglia",
          "html_url": "https://github.com/borisghidaglia",
          "followers_url": "https://api.github.com/users/borisghidaglia/followers",
          "following_url": "https://api.github.com/users/borisghidaglia/following{/other_user}",
          "gists_url": "https://api.github.com/users/borisghidaglia/gists{/gist_id}",
          "starred_url": "https://api.github.com/users/borisghidaglia/starred{/owner}{/repo}",
          "subscriptions_url": "https://api.github.com/users/borisghidaglia/subscriptions",
          "organizations_url": "https://api.github.com/users/borisghidaglia/orgs",
          "repos_url": "https://api.github.com/users/borisghidaglia/repos",
          "events_url": "https://api.github.com/users/borisghidaglia/events{/privacy}",
          "received_events_url": "https://api.github.com/users/borisghidaglia/received_events",
          "type": "User",
          "user_view_type": "public",
          "site_admin": false
        },
        "labels": [
          {
            "id": 710722093,
            "node_id": "MDU6TGFiZWw3MTA3MjIwOTM=",
            "url": "https://api.github.com/repos/facebook/react/labels/Type:%20Needs%20Investigation",
            "name": "Type: Needs Investigation",
            "color": "65AA9C",
            "default": false,
            "description": ""
          }
        ],
        "state": "open",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 3,
        "created_at": "2022-11-23T20:12:13Z",
        "updated_at": "2023-11-18T00:45:53Z",
        "closed_at": null,
        "author_association": "NONE",
        "type": null,
        "active_lock_reason": null,
        "sub_issues_summary": {
          "total": 0,
          "completed": 0,
          "percent_completed": 0
        },
        "issue_dependencies_summary": {
          "blocked_by": 0,
          "total_blocked_by": 0,
          "blocking": 0,
          "total_blocking": 0
        },
        "body": "When running a heavy computation between two \"setState\" in a `useEffect`, one being out of a `setTimeout` and the other inside it, React does not re-render twice. \r\n\r\nThis is a problem because it prevents us from showing a \"loading state\" to the user while the heavy computation is running.\r\n\r\nReact version: `18.2.0`\r\n\r\n## Steps To Reproduce\r\n\r\nSee [this](https://codesandbox.io/s/practical-dew-qkfy29?file=/src/App.tsx) sandbox.\r\n\r\n## Main part of the sandbox code\r\n\r\n```ts\r\n  useEffect(() => {\r\n    setData(undefined);\r\n    setTimeout(() => {\r\n      const res = slowFibonacci(counter);\r\n      setData({ res });\r\n    });\r\n  }, [counter]);\r\n```\r\n## The current behavior\r\n\r\nIt changes depending on some things I'm unfortunately not sure about. \r\nSometimes the loading state is correctly showed on mount, sometimes it's on update. \r\nSometimes the loading state displays smoothly, sometimes it seems that it is stuck mid-render (I don't know this for a fact). \r\nAnd finally some other times, the loading state is not displayed at all, and the component is only rendered once the computation is done.\r\n\r\n## The expected behavior\r\n\r\nI'd expect this code to behave as described in [this](https://github.com/reactwg/react-18/discussions/21#discussioncomment-1565892) comment from the _\"Automatic batching for fewer renders in React 18\"_ discussion on the [React 18 repo](https://github.com/reactwg/react-18) of the React Working Group:\r\n\r\n> The updates outside setTimeout will be batched together and updates inside setTimeout will be batched together separately so it will be 2 separate renders.\r\n\r\n\r\nThanks to @gaearon for taking a look at this beforehand and suggesting to submit this issue.",
        "closed_by": null,
        "reactions": {
          "url": "https://api.github.com/repos/facebook/react/issues/25734/reactions",
          "total_count": 1,
          "+1": 0,
          "-1": 0,
          "laugh": 0,
          "hooray": 0,
          "confused": 0,
          "heart": 0,
          "rocket": 0,
          "eyes": 1
        },
        "timeline_url": "https://api.github.com/repos/facebook/react/issues/25734/timeline",
        "performed_via_github_app": null,
        "state_reason": null
      },
      {
        "url": "https://api.github.com/repos/facebook/react/issues/25282",
        "repository_url": "https://api.github.com/repos/facebook/react",
        "labels_url": "https://api.github.com/repos/facebook/react/issues/25282/labels{/name}",
        "comments_url": "https://api.github.com/repos/facebook/react/issues/25282/comments",
        "events_url": "https://api.github.com/repos/facebook/react/issues/25282/events",
        "html_url": "https://github.com/facebook/react/issues/25282",
        "id": 1376200589,
        "node_id": "I_kwDOAJy2Ks5SByeN",
        "number": 25282,
        "title": "Bug: onChange handler is lost between re-renders",
        "user": {
          "login": "subha84",
          "id": 15195102,
          "node_id": "MDQ6VXNlcjE1MTk1MTAy",
          "avatar_url": "https://avatars.githubusercontent.com/u/15195102?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/subha84",
          "html_url": "https://github.com/subha84",
          "followers_url": "https://api.github.com/users/subha84/followers",
          "following_url": "https://api.github.com/users/subha84/following{/other_user}",
          "gists_url": "https://api.github.com/users/subha84/gists{/gist_id}",
          "starred_url": "https://api.github.com/users/subha84/starred{/owner}{/repo}",
          "subscriptions_url": "https://api.github.com/users/subha84/subscriptions",
          "organizations_url": "https://api.github.com/users/subha84/orgs",
          "repos_url": "https://api.github.com/users/subha84/repos",
          "events_url": "https://api.github.com/users/subha84/events{/privacy}",
          "received_events_url": "https://api.github.com/users/subha84/received_events",
          "type": "User",
          "user_view_type": "public",
          "site_admin": false
        },
        "labels": [
          {
            "id": 127893911,
            "node_id": "MDU6TGFiZWwxMjc4OTM5MTE=",
            "url": "https://api.github.com/repos/facebook/react/labels/Component:%20DOM",
            "name": "Component: DOM",
            "color": "fef2c0",
            "default": false,
            "description": null
          },
          {
            "id": 710722093,
            "node_id": "MDU6TGFiZWw3MTA3MjIwOTM=",
            "url": "https://api.github.com/repos/facebook/react/labels/Type:%20Needs%20Investigation",
            "name": "Type: Needs Investigation",
            "color": "65AA9C",
            "default": false,
            "description": ""
          }
        ],
        "state": "open",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 13,
        "created_at": "2022-09-16T17:06:45Z",
        "updated_at": "2022-10-31T13:18:01Z",
        "closed_at": null,
        "author_association": "NONE",
        "type": null,
        "active_lock_reason": null,
        "sub_issues_summary": {
          "total": 0,
          "completed": 0,
          "percent_completed": 0
        },
        "issue_dependencies_summary": {
          "blocked_by": 0,
          "total_blocked_by": 0,
          "blocking": 0,
          "total_blocking": 0
        },
        "body": "\r\n\r\n\r\nReact version: 18\r\nIn our application, we have a checkbox and a button on a page. The button opens a popup which in turn attaches a onClick event of type capture at body level.\r\nNow, when we click on the checkbox we observed the onChange handler never gets a chance to execute.\r\n\r\n## Steps To Reproduce\r\n1. Click on the button to open a popup.\r\n2. popup attaches a click handler at body level. This event is of type 'capture' to close the popup whenever some random click happens anywhere on the page. \r\n3. Now, if we click on the checkbox the body level click event is executed before the checkbox's onChange event.\r\n4. This click event in turn updates some state, which causes re-render of the checkbox component.\r\n5. popup is closed.\r\n6. The onChange event attached with the checkbox never got a chance to be executed. It is lost somewhere.\r\n\r\n[Link to code example:](https://codesandbox.io/s/cocky-moon-2tr7e8?file=/src/App.js)\r\n\r\n## The current behavior\r\nThe checkbox remains either checked or unchecked.\r\n\r\n## The expected behavior\r\nThe checkbox should get checked and unchecked with every other click.",
        "closed_by": null,
        "reactions": {
          "url": "https://api.github.com/repos/facebook/react/issues/25282/reactions",
          "total_count": 0,
          "+1": 0,
          "-1": 0,
          "laugh": 0,
          "hooray": 0,
          "confused": 0,
          "heart": 0,
          "rocket": 0,
          "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/facebook/react/issues/25282/timeline",
        "performed_via_github_app": null,
        "state_reason": null
      },
      {
        "url": "https://api.github.com/repos/facebook/react/issues/24670",
        "repository_url": "https://api.github.com/repos/facebook/react",
        "labels_url": "https://api.github.com/repos/facebook/react/issues/24670/labels{/name}",
        "comments_url": "https://api.github.com/repos/facebook/react/issues/24670/comments",
        "events_url": "https://api.github.com/repos/facebook/react/issues/24670/events",
        "html_url": "https://github.com/facebook/react/issues/24670",
        "id": 1260286324,
        "node_id": "I_kwDOAJy2Ks5LHnF0",
        "number": 24670,
        "title": "Bug: React 18 Strict mode does not simulate unsetting and re-setting DOM refs",
        "user": {
          "login": "JMartinCollins",
          "id": 61546355,
          "node_id": "MDQ6VXNlcjYxNTQ2MzU1",
          "avatar_url": "https://avatars.githubusercontent.com/u/61546355?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/JMartinCollins",
          "html_url": "https://github.com/JMartinCollins",
          "followers_url": "https://api.github.com/users/JMartinCollins/followers",
          "following_url": "https://api.github.com/users/JMartinCollins/following{/other_user}",
          "gists_url": "https://api.github.com/users/JMartinCollins/gists{/gist_id}",
          "starred_url": "https://api.github.com/users/JMartinCollins/starred{/owner}{/repo}",
          "subscriptions_url": "https://api.github.com/users/JMartinCollins/subscriptions",
          "organizations_url": "https://api.github.com/users/JMartinCollins/orgs",
          "repos_url": "https://api.github.com/users/JMartinCollins/repos",
          "events_url": "https://api.github.com/users/JMartinCollins/events{/privacy}",
          "received_events_url": "https://api.github.com/users/JMartinCollins/received_events",
          "type": "User",
          "user_view_type": "public",
          "site_admin": false
        },
        "labels": [
          {
            "id": 710722093,
            "node_id": "MDU6TGFiZWw3MTA3MjIwOTM=",
            "url": "https://api.github.com/repos/facebook/react/labels/Type:%20Needs%20Investigation",
            "name": "Type: Needs Investigation",
            "color": "65AA9C",
            "default": false,
            "description": ""
          },
          {
            "id": 3079053919,
            "node_id": "MDU6TGFiZWwzMDc5MDUzOTE5",
            "url": "https://api.github.com/repos/facebook/react/labels/React%2018",
            "name": "React 18",
            "color": "26B0E4",
            "default": false,
            "description": "Bug reports, questions, and general feedback about React 18"
          }
        ],
        "state": "open",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 28,
        "created_at": "2022-06-03T19:28:06Z",
        "updated_at": "2024-04-15T20:04:49Z",
        "closed_at": null,
        "author_association": "NONE",
        "type": null,
        "active_lock_reason": null,
        "sub_issues_summary": {
          "total": 0,
          "completed": 0,
          "percent_completed": 0
        },
        "issue_dependencies_summary": {
          "blocked_by": 0,
          "total_blocked_by": 0,
          "blocking": 0,
          "total_blocking": 0
        },
        "body": "<!--\r\n  Please provide a clear and concise description of what the bug is. Include\r\n  screenshots if needed. Please test using the latest version of the relevant\r\n  React packages to make sure your issue has not already been fixed.\r\n-->\r\n\r\nReact version: 18.1.0\r\n\r\n## Steps To Reproduce\r\n\r\n1. Use `<React.StrictMode>`\r\n2. Set a ref to a JSX element in a component\r\n3. Create a `useLayoutEffect`/`useEffect `in the component where the returned cleanup function console logs the ref\r\n4. Save and refresh the app\r\n5. You should have access to the ref element in the the `useLayoutEffect`/`useEffect `cleanup function during the _simulated_ unmount.\r\n\r\n<!--\r\n  Your bug will get fixed much faster if we can run your code and it doesn't\r\n  have dependencies other than React. Issues without reproduction steps or\r\n  code examples may be immediately closed as not actionable.\r\n-->\r\n\r\nLink to code example: https://codesandbox.io/s/proud-snow-ox4ngx?file=/src/App.js\r\n\r\n<!--\r\n  Please provide a CodeSandbox (https://codesandbox.io/s/new), a link to a\r\n  repository on GitHub, or provide a minimal code example that reproduces the\r\n  problem. You may provide a screenshot of the application if you think it is\r\n  relevant to your bug report. Here are some tips for providing a minimal\r\n  example: https://stackoverflow.com/help/mcve.\r\n-->\r\n\r\n## The current behavior\r\nDoes not unset/re-set refs in simulated unmount. This could lead to unexpected bugs in development like having double-set event listeners, i.e.` if( ref.current ){ //add eventlistener to it } `and might not match the behavior of _actually_ unmounting the DOM node as described in the docs: https://reactjs.org/docs/strict-mode.html\r\n\r\n> On the second mount, React will restore the state from the first mount. This feature simulates user behavior such as a user tabbing away from a screen and back, ensuring that code will properly handle state restoration.\r\n\r\n## The expected behavior\r\nIn normal unmounts and mounts refs are unset(before layout effects are cleaned up) and set(before layout effects).",
        "closed_by": null,
        "reactions": {
          "url": "https://api.github.com/repos/facebook/react/issues/24670/reactions",
          "total_count": 44,
          "+1": 34,
          "-1": 1,
          "laugh": 2,
          "hooray": 1,
          "confused": 1,
          "heart": 2,
          "rocket": 1,
          "eyes": 2
        },
        "timeline_url": "https://api.github.com/repos/facebook/react/issues/24670/timeline",
        "performed_via_github_app": null,
        "state_reason": null
      },
      {
        "url": "https://api.github.com/repos/facebook/react/issues/24600",
        "repository_url": "https://api.github.com/repos/facebook/react",
        "labels_url": "https://api.github.com/repos/facebook/react/issues/24600/labels{/name}",
        "comments_url": "https://api.github.com/repos/facebook/react/issues/24600/comments",
        "events_url": "https://api.github.com/repos/facebook/react/issues/24600/events",
        "html_url": "https://github.com/facebook/react/issues/24600",
        "id": 1245563865,
        "node_id": "I_kwDOAJy2Ks5KPcvZ",
        "number": 24600,
        "title": "[DevTools Bug]: Overlapping flamecharts in Profiler",
        "user": {
          "login": "gaearon",
          "id": 810438,
          "node_id": "MDQ6VXNlcjgxMDQzOA==",
          "avatar_url": "https://avatars.githubusercontent.com/u/810438?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/gaearon",
          "html_url": "https://github.com/gaearon",
          "followers_url": "https://api.github.com/users/gaearon/followers",
          "following_url": "https://api.github.com/users/gaearon/following{/other_user}",
          "gists_url": "https://api.github.com/users/gaearon/gists{/gist_id}",
          "starred_url": "https://api.github.com/users/gaearon/starred{/owner}{/repo}",
          "subscriptions_url": "https://api.github.com/users/gaearon/subscriptions",
          "organizations_url": "https://api.github.com/users/gaearon/orgs",
          "repos_url": "https://api.github.com/users/gaearon/repos",
          "events_url": "https://api.github.com/users/gaearon/events{/privacy}",
          "received_events_url": "https://api.github.com/users/gaearon/received_events",
          "type": "User",
          "user_view_type": "public",
          "site_admin": false
        },
        "labels": [
          {
            "id": 40929151,
            "node_id": "MDU6TGFiZWw0MDkyOTE1MQ==",
            "url": "https://api.github.com/repos/facebook/react/labels/Type:%20Bug",
            "name": "Type: Bug",
            "color": "b60205",
            "default": false,
            "description": null
          },
          {
            "id": 710573595,
            "node_id": "MDU6TGFiZWw3MTA1NzM1OTU=",
            "url": "https://api.github.com/repos/facebook/react/labels/Component:%20Developer%20Tools",
            "name": "Component: Developer Tools",
            "color": "fbca04",
            "default": false,
            "description": null
          }
        ],
        "state": "open",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 4,
        "created_at": "2022-05-23T18:43:13Z",
        "updated_at": "2024-03-18T23:30:03Z",
        "closed_at": null,
        "author_association": "COLLABORATOR",
        "type": null,
        "active_lock_reason": null,
        "sub_issues_summary": {
          "total": 0,
          "completed": 0,
          "percent_completed": 0
        },
        "issue_dependencies_summary": {
          "blocked_by": 0,
          "total_blocked_by": 0,
          "blocking": 0,
          "total_blocking": 0
        },
        "body": "### Website or app\n\nhttps://github.com/reactjs/reactjs.org\n\n### Repro steps\n\n1. Check out https://github.com/reactjs/reactjs.org/commit/9cee632619065ade1e84c0470900e3634661d0d2\r\n2. Open the beta website (https://github.com/reactjs/reactjs.org/tree/main/beta), `yarn dev`\r\n3. Use Profiler -> \"refresh and profile\"\r\n\r\nSome (but not all) commits appear a bit borked.\r\n\r\n<img width=\"825\" alt=\"Screenshot 2022-05-23 at 19 41 25\" src=\"https://user-images.githubusercontent.com/810438/169885681-95c41ea1-b5fd-4b19-a850-f90bc725f9ce.png\">\r\n\r\n\r\n<img width=\"795\" alt=\"Screenshot 2022-05-23 at 19 41 20\" src=\"https://user-images.githubusercontent.com/810438/169885677-dcf922d9-70f6-40df-84bf-a940ac5c5c7e.png\">\r\n  \n\n### How often does this bug happen?\n\nEvery time\n\n### DevTools package (automated)\n\n_No response_\n\n### DevTools version (automated)\n\n_No response_\n\n### Error message (automated)\n\n_No response_\n\n### Error call stack (automated)\n\n_No response_\n\n### Error component stack (automated)\n\n_No response_\n\n### GitHub query string (automated)\n\n_No response_",
        "closed_by": null,
        "reactions": {
          "url": "https://api.github.com/repos/facebook/react/issues/24600/reactions",
          "total_count": 0,
          "+1": 0,
          "-1": 0,
          "laugh": 0,
          "hooray": 0,
          "confused": 0,
          "heart": 0,
          "rocket": 0,
          "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/facebook/react/issues/24600/timeline",
        "performed_via_github_app": null,
        "state_reason": null
      },
      {
        "url": "https://api.github.com/repos/facebook/react/issues/24430",
        "repository_url": "https://api.github.com/repos/facebook/react",
        "labels_url": "https://api.github.com/repos/facebook/react/issues/24430/labels{/name}",
        "comments_url": "https://api.github.com/repos/facebook/react/issues/24430/comments",
        "events_url": "https://api.github.com/repos/facebook/react/issues/24430/events",
        "html_url": "https://github.com/facebook/react/issues/24430",
        "id": 1213504367,
        "node_id": "I_kwDOAJy2Ks5IVJtv",
        "number": 24430,
        "title": "Bug: Hydration mismatch error due to plugins generating script tag on top",
        "user": {
          "login": "yongdamsh",
          "id": 4126644,
          "node_id": "MDQ6VXNlcjQxMjY2NDQ=",
          "avatar_url": "https://avatars.githubusercontent.com/u/4126644?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/yongdamsh",
          "html_url": "https://github.com/yongdamsh",
          "followers_url": "https://api.github.com/users/yongdamsh/followers",
          "following_url": "https://api.github.com/users/yongdamsh/following{/other_user}",
          "gists_url": "https://api.github.com/users/yongdamsh/gists{/gist_id}",
          "starred_url": "https://api.github.com/users/yongdamsh/starred{/owner}{/repo}",
          "subscriptions_url": "https://api.github.com/users/yongdamsh/subscriptions",
          "organizations_url": "https://api.github.com/users/yongdamsh/orgs",
          "repos_url": "https://api.github.com/users/yongdamsh/repos",
          "events_url": "https://api.github.com/users/yongdamsh/events{/privacy}",
          "received_events_url": "https://api.github.com/users/yongdamsh/received_events",
          "type": "User",
          "user_view_type": "public",
          "site_admin": false
        },
        "labels": [
          {
            "id": 710332294,
            "node_id": "MDU6TGFiZWw3MTAzMzIyOTQ=",
            "url": "https://api.github.com/repos/facebook/react/labels/Component:%20Server%20Rendering",
            "name": "Component: Server Rendering",
            "color": "d4c5f9",
            "default": false,
            "description": null
          },
          {
            "id": 1775955521,
            "node_id": "MDU6TGFiZWwxNzc1OTU1NTIx",
            "url": "https://api.github.com/repos/facebook/react/labels/Resolution:%20Backlog",
            "name": "Resolution: Backlog",
            "color": "9dd1e8",
            "default": false,
            "description": ""
          }
        ],
        "state": "open",
        "locked": false,
        "assignee": {
          "login": "gnoff",
          "id": 2716369,
          "node_id": "MDQ6VXNlcjI3MTYzNjk=",
          "avatar_url": "https://avatars.githubusercontent.com/u/2716369?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/gnoff",
          "html_url": "https://github.com/gnoff",
          "followers_url": "https://api.github.com/users/gnoff/followers",
          "following_url": "https://api.github.com/users/gnoff/following{/other_user}",
          "gists_url": "https://api.github.com/users/gnoff/gists{/gist_id}",
          "starred_url": "https://api.github.com/users/gnoff/starred{/owner}{/repo}",
          "subscriptions_url": "https://api.github.com/users/gnoff/subscriptions",
          "organizations_url": "https://api.github.com/users/gnoff/orgs",
          "repos_url": "https://api.github.com/users/gnoff/repos",
          "events_url": "https://api.github.com/users/gnoff/events{/privacy}",
          "received_events_url": "https://api.github.com/users/gnoff/received_events",
          "type": "User",
          "user_view_type": "public",
          "site_admin": false
        },
        "assignees": [
          {
            "login": "gnoff",
            "id": 2716369,
            "node_id": "MDQ6VXNlcjI3MTYzNjk=",
            "avatar_url": "https://avatars.githubusercontent.com/u/2716369?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/gnoff",
            "html_url": "https://github.com/gnoff",
            "followers_url": "https://api.github.com/users/gnoff/followers",
            "following_url": "https://api.github.com/users/gnoff/following{/other_user}",
            "gists_url": "https://api.github.com/users/gnoff/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/gnoff/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/gnoff/subscriptions",
            "organizations_url": "https://api.github.com/users/gnoff/orgs",
            "repos_url": "https://api.github.com/users/gnoff/repos",
            "events_url": "https://api.github.com/users/gnoff/events{/privacy}",
            "received_events_url": "https://api.github.com/users/gnoff/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          }
        ],
        "milestone": null,
        "comments": 84,
        "created_at": "2022-04-24T02:16:30Z",
        "updated_at": "2025-07-29T11:34:54Z",
        "closed_at": null,
        "author_association": "CONTRIBUTOR",
        "type": null,
        "active_lock_reason": null,
        "sub_issues_summary": {
          "total": 0,
          "completed": 0,
          "percent_completed": 0
        },
        "issue_dependencies_summary": {
          "blocked_by": 0,
          "total_blocked_by": 0,
          "blocking": 0,
          "total_blocking": 0
        },
        "body": "<!--\r\n  Please provide a clear and concise description of what the bug is. Include\r\n  screenshots if needed. Please test using the latest version of the relevant\r\n  React packages to make sure your issue has not already been fixed.\r\n-->\r\n\r\nReact version: 18.0.0, 18.1.0-next-fc47cb1b6-20220404 (latest version in codesandbox)\r\n\r\n## Steps To Reproduce\r\n\r\n1. Install a plugin that creates a script tag at the top(ex: [Apollo Client Devtools](https://chrome.google.com/webstore/detail/apollo-client-devtools/jdkknkkbebbapilgoeccciglkfbmbnfm))\r\n2. Go to the [demo](https://codesandbox.io/s/kind-sammet-j56ro?file=/src/App.js) in the [new SSR suspense guide](https://github.com/reactwg/react-18/discussions/37)\r\n3. Open preview in a new window\r\n4. UI mismatch error occurs at hydration time\r\n\r\n  <img width=\"600\" alt=\"á„‰á…³á„á…³á„…á…µá†«á„‰á…£á†º 2022-04-24 á„‹á…©á„Œá…¥á†« 11 02 34\" src=\"https://user-images.githubusercontent.com/4126644/164952677-06618e72-3343-4b92-9eaa-b45bce11c3ab.png\">\r\n\r\n<!--\r\n  Your bug will get fixed much faster if we can run your code and it doesn't\r\n  have dependencies other than React. Issues without reproduction steps or\r\n  code examples may be immediately closed as not actionable.\r\n-->\r\n\r\nLink to code example: https://codesandbox.io/s/kind-sammet-j56ro?file=/src/App.js\r\n\r\n<!--\r\n  Please provide a CodeSandbox (https://codesandbox.io/s/new), a link to a\r\n  repository on GitHub, or provide a minimal code example that reproduces the\r\n  problem. You may provide a screenshot of the application if you think it is\r\n  relevant to your bug report. Here are some tips for providing a minimal\r\n  example: https://stackoverflow.com/help/mcve.\r\n-->\r\n\r\n## The current behavior\r\n\r\nIf a script tag is inserted before the head tag due to the user's browser environment such as a plugin, it is judged as a hydration mismatch and the screen is broken.\r\n\r\nhttps://user-images.githubusercontent.com/4126644/164953071-14546c74-d9ab-4a6f-8f99-6712f29c6dd6.mov\r\n\r\n\r\n\r\n\r\n## The expected behavior\r\n\r\nThis problem may be a part that each third party needs to solve, but I'm wondering if it's possible to handle an exception in the hydration matching logic of React.",
        "closed_by": null,
        "reactions": {
          "url": "https://api.github.com/repos/facebook/react/issues/24430/reactions",
          "total_count": 105,
          "+1": 103,
          "-1": 0,
          "laugh": 0,
          "hooray": 0,
          "confused": 0,
          "heart": 0,
          "rocket": 2,
          "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/facebook/react/issues/24430/timeline",
        "performed_via_github_app": null,
        "state_reason": null
      },
      {
        "url": "https://api.github.com/repos/facebook/react/issues/24391",
        "repository_url": "https://api.github.com/repos/facebook/react",
        "labels_url": "https://api.github.com/repos/facebook/react/issues/24391/labels{/name}",
        "comments_url": "https://api.github.com/repos/facebook/react/issues/24391/comments",
        "events_url": "https://api.github.com/repos/facebook/react/issues/24391/events",
        "html_url": "https://github.com/facebook/react/issues/24391",
        "id": 1206320348,
        "node_id": "I_kwDOAJy2Ks5H5vzc",
        "number": 24391,
        "title": "Bug: Internal React error: Expected static flag was missing",
        "user": {
          "login": "Developer-Nijat",
          "id": 51002164,
          "node_id": "MDQ6VXNlcjUxMDAyMTY0",
          "avatar_url": "https://avatars.githubusercontent.com/u/51002164?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/Developer-Nijat",
          "html_url": "https://github.com/Developer-Nijat",
          "followers_url": "https://api.github.com/users/Developer-Nijat/followers",
          "following_url": "https://api.github.com/users/Developer-Nijat/following{/other_user}",
          "gists_url": "https://api.github.com/users/Developer-Nijat/gists{/gist_id}",
          "starred_url": "https://api.github.com/users/Developer-Nijat/starred{/owner}{/repo}",
          "subscriptions_url": "https://api.github.com/users/Developer-Nijat/subscriptions",
          "organizations_url": "https://api.github.com/users/Developer-Nijat/orgs",
          "repos_url": "https://api.github.com/users/Developer-Nijat/repos",
          "events_url": "https://api.github.com/users/Developer-Nijat/events{/privacy}",
          "received_events_url": "https://api.github.com/users/Developer-Nijat/received_events",
          "type": "User",
          "user_view_type": "public",
          "site_admin": false
        },
        "labels": [
          {
            "id": 40929151,
            "node_id": "MDU6TGFiZWw0MDkyOTE1MQ==",
            "url": "https://api.github.com/repos/facebook/react/labels/Type:%20Bug",
            "name": "Type: Bug",
            "color": "b60205",
            "default": false,
            "description": null
          },
          {
            "id": 155984160,
            "node_id": "MDU6TGFiZWwxNTU5ODQxNjA=",
            "url": "https://api.github.com/repos/facebook/react/labels/Status:%20Unconfirmed",
            "name": "Status: Unconfirmed",
            "color": "d4c5f9",
            "default": false,
            "description": "A potential issue that we haven't yet confirmed as a bug"
          }
        ],
        "state": "open",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 25,
        "created_at": "2022-04-17T08:53:53Z",
        "updated_at": "2025-10-15T09:27:43Z",
        "closed_at": null,
        "author_association": "NONE",
        "type": null,
        "active_lock_reason": null,
        "sub_issues_summary": {
          "total": 0,
          "completed": 0,
          "percent_completed": 0
        },
        "issue_dependencies_summary": {
          "blocked_by": 0,
          "total_blocked_by": 0,
          "blocking": 0,
          "total_blocking": 0
        },
        "body": "<!--\r\n  Please provide a clear and concise description of what the bug is. Include\r\n  screenshots if needed. Please test using the latest version of the relevant\r\n  React packages to make sure your issue has not already been fixed.\r\n-->\r\n\r\nReact version: V18.0.0\r\nReact router DOM: V5.2.1\r\n\r\n## Steps To Reproduce\r\n\r\n1. Going to profile page\r\n2. Warning: Internal React error: Expected static flag was missing. Please notify the React team.\r\n\r\n<!--\r\n  Your bug will get fixed much faster if we can run your code and it doesn't\r\n  have dependencies other than React. Issues without reproduction steps or\r\n  code examples may be immediately closed as not actionable.\r\n-->\r\n\r\nLink to code example:\r\n![Screenshot 2022-04-17 124859](https://user-images.githubusercontent.com/51002164/163707500-3ee1ca51-9695-4e2e-b3c4-3f5e8f7a98b3.png)\r\nDynamicFilter.js component\r\n![Screenshot 2022-04-17 125107](https://user-images.githubusercontent.com/51002164/163707576-b8536b98-3b47-4c7e-84f3-abfa9f93dddf.png)\r\n\r\n\r\n<!--\r\n  Please provide a CodeSandbox (https://codesandbox.io/s/new), a link to a\r\n  repository on GitHub, or provide a minimal code example that reproduces the\r\n  problem. You may provide a screenshot of the application if you think it is\r\n  relevant to your bug report. Here are some tips for providing a minimal\r\n  example: https://stackoverflow.com/help/mcve.\r\n-->\r\n\r\n## The current behavior\r\n\r\n\r\n## The expected behavior\r\n",
        "closed_by": null,
        "reactions": {
          "url": "https://api.github.com/repos/facebook/react/issues/24391/reactions",
          "total_count": 0,
          "+1": 0,
          "-1": 0,
          "laugh": 0,
          "hooray": 0,
          "confused": 0,
          "heart": 0,
          "rocket": 0,
          "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/facebook/react/issues/24391/timeline",
        "performed_via_github_app": null,
        "state_reason": null
      },
      {
        "url": "https://api.github.com/repos/facebook/react/issues/24358",
        "repository_url": "https://api.github.com/repos/facebook/react",
        "labels_url": "https://api.github.com/repos/facebook/react/issues/24358/labels{/name}",
        "comments_url": "https://api.github.com/repos/facebook/react/issues/24358/comments",
        "events_url": "https://api.github.com/repos/facebook/react/issues/24358/events",
        "html_url": "https://github.com/facebook/react/issues/24358",
        "id": 1202642499,
        "node_id": "I_kwDOAJy2Ks5Hrt5D",
        "number": 24358,
        "title": "Bug: beforeInput event doesn't fire when input is replacing previous text",
        "user": {
          "login": "jbroomer",
          "id": 38018109,
          "node_id": "MDQ6VXNlcjM4MDE4MTA5",
          "avatar_url": "https://avatars.githubusercontent.com/u/38018109?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/jbroomer",
          "html_url": "https://github.com/jbroomer",
          "followers_url": "https://api.github.com/users/jbroomer/followers",
          "following_url": "https://api.github.com/users/jbroomer/following{/other_user}",
          "gists_url": "https://api.github.com/users/jbroomer/gists{/gist_id}",
          "starred_url": "https://api.github.com/users/jbroomer/starred{/owner}{/repo}",
          "subscriptions_url": "https://api.github.com/users/jbroomer/subscriptions",
          "organizations_url": "https://api.github.com/users/jbroomer/orgs",
          "repos_url": "https://api.github.com/users/jbroomer/repos",
          "events_url": "https://api.github.com/users/jbroomer/events{/privacy}",
          "received_events_url": "https://api.github.com/users/jbroomer/received_events",
          "type": "User",
          "user_view_type": "public",
          "site_admin": false
        },
        "labels": [
          {
            "id": 127893911,
            "node_id": "MDU6TGFiZWwxMjc4OTM5MTE=",
            "url": "https://api.github.com/repos/facebook/react/labels/Component:%20DOM",
            "name": "Component: DOM",
            "color": "fef2c0",
            "default": false,
            "description": null
          },
          {
            "id": 155984160,
            "node_id": "MDU6TGFiZWwxNTU5ODQxNjA=",
            "url": "https://api.github.com/repos/facebook/react/labels/Status:%20Unconfirmed",
            "name": "Status: Unconfirmed",
            "color": "d4c5f9",
            "default": false,
            "description": "A potential issue that we haven't yet confirmed as a bug"
          },
          {
            "id": 588833528,
            "node_id": "MDU6TGFiZWw1ODg4MzM1Mjg=",
            "url": "https://api.github.com/repos/facebook/react/labels/Difficulty:%20medium",
            "name": "Difficulty: medium",
            "color": "fbca04",
            "default": false,
            "description": null
          },
          {
            "id": 710722093,
            "node_id": "MDU6TGFiZWw3MTA3MjIwOTM=",
            "url": "https://api.github.com/repos/facebook/react/labels/Type:%20Needs%20Investigation",
            "name": "Type: Needs Investigation",
            "color": "65AA9C",
            "default": false,
            "description": ""
          },
          {
            "id": 725156255,
            "node_id": "MDU6TGFiZWw3MjUxNTYyNTU=",
            "url": "https://api.github.com/repos/facebook/react/labels/good%20first%20issue%20(taken)",
            "name": "good first issue (taken)",
            "color": "b60205",
            "default": false,
            "description": null
          }
        ],
        "state": "open",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 12,
        "created_at": "2022-04-13T01:35:34Z",
        "updated_at": "2025-07-05T17:46:34Z",
        "closed_at": null,
        "author_association": "NONE",
        "type": null,
        "active_lock_reason": null,
        "sub_issues_summary": {
          "total": 0,
          "completed": 0,
          "percent_completed": 0
        },
        "issue_dependencies_summary": {
          "blocked_by": 0,
          "total_blocked_by": 0,
          "blocking": 0,
          "total_blocking": 0
        },
        "body": "There is a strange React bug where the `beforeinput` event does not fire but only on Firefox (v99).\r\n\r\nReact version: 17.0.2\r\n\r\n## Steps To Reproduce\r\n\r\nThere are two ways I have found to reproduce this bug and both involve a scenario where the `beforeInput` event is replacing the previous text and both are only problematic on Firefox when the events are triggered via React rendered input.\r\n\r\n### MacOS Popup\r\n\r\n1. (Using MacOS (v12.1) and a Firefox browser). When focused in a browser input, hold down the \"a\" key (or any standard english character with a latin accented variation) and wait for the accent popup to show up\r\n2. At this point the `keydown`, `beforeinput`, and `input` events should have fired and the new input should have the regular key inserted\r\n3. Now, select one of the options from the accent menu (using a numeric selector)\r\n4. Notice only the `keydown` and `input` events fired\r\n\r\n### Native HTML Spellcheck Replacement\r\n\r\n1. (Using a Firefox browser) When focused in a browser input, type some misspelled text in so that it can be selected for spellcheck replacement\r\n2. Notice all of the `keydown`, `beforeinput`, and `input` events fire when typing standard keys\r\n3. Right click on the misspelled text and select a spellcheck alternative\r\n4. Notice only the `input` event fires with the replacement input\r\n\r\n## Link to code example:\r\n\r\nHere is a simple codesandbox with a Standard HTML textarea **and** a textarea rendered via React. It logs to the console when the events fire. If you run through either one of the above steps to reproduce, you'll notice the `beforeinput` event fires correctly with the standard HTML element but not with the React rendered input.\r\n\r\n[Code Sandbox](https://codesandbox.io/s/react-typescript-forked-rpbiun?file=/public/index.html)\r\n\r\n## The current behavior\r\nOnly the `keydown` and `input` events fired when a replacement text input event flow is triggered\r\n\r\n## The expected behavior\r\nThe `beforeinput` event should always fire",
        "closed_by": null,
        "reactions": {
          "url": "https://api.github.com/repos/facebook/react/issues/24358/reactions",
          "total_count": 0,
          "+1": 0,
          "-1": 0,
          "laugh": 0,
          "hooray": 0,
          "confused": 0,
          "heart": 0,
          "rocket": 0,
          "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/facebook/react/issues/24358/timeline",
        "performed_via_github_app": null,
        "state_reason": null
      },
      {
        "url": "https://api.github.com/repos/facebook/react/issues/24283",
        "repository_url": "https://api.github.com/repos/facebook/react",
        "labels_url": "https://api.github.com/repos/facebook/react/issues/24283/labels{/name}",
        "comments_url": "https://api.github.com/repos/facebook/react/issues/24283/comments",
        "events_url": "https://api.github.com/repos/facebook/react/issues/24283/events",
        "html_url": "https://github.com/facebook/react/issues/24283",
        "id": 1194172364,
        "node_id": "I_kwDOAJy2Ks5HLZ_M",
        "number": 24283,
        "title": "Suppress \"Download the React DevTools\" log for a better development experience",
        "user": {
          "login": "tjx666",
          "id": 41773861,
          "node_id": "MDQ6VXNlcjQxNzczODYx",
          "avatar_url": "https://avatars.githubusercontent.com/u/41773861?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/tjx666",
          "html_url": "https://github.com/tjx666",
          "followers_url": "https://api.github.com/users/tjx666/followers",
          "following_url": "https://api.github.com/users/tjx666/following{/other_user}",
          "gists_url": "https://api.github.com/users/tjx666/gists{/gist_id}",
          "starred_url": "https://api.github.com/users/tjx666/starred{/owner}{/repo}",
          "subscriptions_url": "https://api.github.com/users/tjx666/subscriptions",
          "organizations_url": "https://api.github.com/users/tjx666/orgs",
          "repos_url": "https://api.github.com/users/tjx666/repos",
          "events_url": "https://api.github.com/users/tjx666/events{/privacy}",
          "received_events_url": "https://api.github.com/users/tjx666/received_events",
          "type": "User",
          "user_view_type": "public",
          "site_admin": false
        },
        "labels": [
          {
            "id": 121709921,
            "node_id": "MDU6TGFiZWwxMjE3MDk5MjE=",
            "url": "https://api.github.com/repos/facebook/react/labels/Type:%20Feature%20Request",
            "name": "Type: Feature Request",
            "color": "c7def8",
            "default": false,
            "description": null
          },
          {
            "id": 710573595,
            "node_id": "MDU6TGFiZWw3MTA1NzM1OTU=",
            "url": "https://api.github.com/repos/facebook/react/labels/Component:%20Developer%20Tools",
            "name": "Component: Developer Tools",
            "color": "fbca04",
            "default": false,
            "description": null
          },
          {
            "id": 725156255,
            "node_id": "MDU6TGFiZWw3MjUxNTYyNTU=",
            "url": "https://api.github.com/repos/facebook/react/labels/good%20first%20issue%20(taken)",
            "name": "good first issue (taken)",
            "color": "b60205",
            "default": false,
            "description": null
          }
        ],
        "state": "open",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 32,
        "created_at": "2022-04-06T07:23:39Z",
        "updated_at": "2025-11-19T21:23:05Z",
        "closed_at": null,
        "author_association": "NONE",
        "type": null,
        "active_lock_reason": null,
        "sub_issues_summary": {
          "total": 0,
          "completed": 0,
          "percent_completed": 0
        },
        "issue_dependencies_summary": {
          "blocked_by": 0,
          "total_blocked_by": 0,
          "blocking": 0,
          "total_blocking": 0
        },
        "body": "<!--\r\n  Please provide a clear and concise description of what the bug is. Include\r\n  screenshots if needed. Please test using the latest version of the relevant\r\n  React packages to make sure your issue has not already been fixed.\r\n-->\r\n\r\nReact version: 18.0.0\r\n\r\n## Steps To Reproduce\r\n\r\n1. open a remote debug chrome devtools window\r\n2. the message will show\r\n\r\n<!--\r\n  Your bug will get fixed much faster if we can run your code and it doesn't\r\n  have dependencies other than React. Issues without reproduction steps or\r\n  code examples may be immediately closed as not actionable.\r\n-->\r\n\r\nLink to code example:\r\n\r\n<!--\r\n  Please provide a CodeSandbox (https://codesandbox.io/s/new), a link to a\r\n  repository on GitHub, or provide a minimal code example that reproduces the\r\n  problem. You may provide a screenshot of the application if you think it is\r\n  relevant to your bug report. Here are some tips for providing a minimal\r\n  example: https://stackoverflow.com/help/mcve.\r\n-->\r\n\r\n## The current behavior\r\n\r\n<img width=\"1440\" alt=\"image\" src=\"https://user-images.githubusercontent.com/41773861/161918579-8c7458a0-5568-4f3b-a1ad-cdb5da5cde87.png\">\r\n\r\n\r\n\r\n## The expected behavior\r\n\r\nNo this message. Chrome extension can't be used in remote debug window\r\n",
        "closed_by": null,
        "reactions": {
          "url": "https://api.github.com/repos/facebook/react/issues/24283/reactions",
          "total_count": 18,
          "+1": 12,
          "-1": 0,
          "laugh": 0,
          "hooray": 0,
          "confused": 0,
          "heart": 5,
          "rocket": 0,
          "eyes": 1
        },
        "timeline_url": "https://api.github.com/repos/facebook/react/issues/24283/timeline",
        "performed_via_github_app": null,
        "state_reason": null
      },
      {
        "url": "https://api.github.com/repos/facebook/react/issues/23068",
        "repository_url": "https://api.github.com/repos/facebook/react",
        "labels_url": "https://api.github.com/repos/facebook/react/issues/23068/labels{/name}",
        "comments_url": "https://api.github.com/repos/facebook/react/issues/23068/comments",
        "events_url": "https://api.github.com/repos/facebook/react/issues/23068/events",
        "html_url": "https://github.com/facebook/react/issues/23068",
        "id": 1094210252,
        "node_id": "I_kwDOAJy2Ks5BOFLM",
        "number": 23068,
        "title": "React 18 - Avoiding hydration errors, but initialize client-only state directly if possible",
        "user": {
          "login": "fabb",
          "id": 153960,
          "node_id": "MDQ6VXNlcjE1Mzk2MA==",
          "avatar_url": "https://avatars.githubusercontent.com/u/153960?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/fabb",
          "html_url": "https://github.com/fabb",
          "followers_url": "https://api.github.com/users/fabb/followers",
          "following_url": "https://api.github.com/users/fabb/following{/other_user}",
          "gists_url": "https://api.github.com/users/fabb/gists{/gist_id}",
          "starred_url": "https://api.github.com/users/fabb/starred{/owner}{/repo}",
          "subscriptions_url": "https://api.github.com/users/fabb/subscriptions",
          "organizations_url": "https://api.github.com/users/fabb/orgs",
          "repos_url": "https://api.github.com/users/fabb/repos",
          "events_url": "https://api.github.com/users/fabb/events{/privacy}",
          "received_events_url": "https://api.github.com/users/fabb/received_events",
          "type": "User",
          "user_view_type": "public",
          "site_admin": false
        },
        "labels": [
          {
            "id": 710375792,
            "node_id": "MDU6TGFiZWw3MTAzNzU3OTI=",
            "url": "https://api.github.com/repos/facebook/react/labels/Type:%20Discussion",
            "name": "Type: Discussion",
            "color": "fef2c0",
            "default": false,
            "description": null
          },
          {
            "id": 3079053919,
            "node_id": "MDU6TGFiZWwzMDc5MDUzOTE5",
            "url": "https://api.github.com/repos/facebook/react/labels/React%2018",
            "name": "React 18",
            "color": "26B0E4",
            "default": false,
            "description": "Bug reports, questions, and general feedback about React 18"
          }
        ],
        "state": "open",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 12,
        "created_at": "2022-01-05T10:37:26Z",
        "updated_at": "2025-06-28T10:00:20Z",
        "closed_at": null,
        "author_association": "NONE",
        "type": null,
        "active_lock_reason": null,
        "sub_issues_summary": {
          "total": 0,
          "completed": 0,
          "percent_completed": 0
        },
        "issue_dependencies_summary": {
          "blocked_by": 0,
          "total_blocked_by": 0,
          "blocking": 0,
          "total_blocking": 0
        },
        "body": "This question is about hydration errors and workarounds that are future-proof for React 18 partial hydration and concurrent mode.\r\n\r\nReact hydration rules say that the server rendered html needs to match the client rendered dom that is rendered during the initial render in `hydrate()`. Mismatches (=slight differences in dom output) can cause all kinds of weird behavior because React's virtual dom does not match the real dom. Such mismatches can happen when rendering based on information that is only available on the client side, but not on the server side, e.g. conditional rendering based on `typeof window !== 'undefined'`, or rendering based on data from `localStorage`.\r\n\r\nSo this component will cause a hydration error if it is contained in the initial sever-rendered html (case 1), but it would not cause a hydration error if it only appeared later after hydration (case 2):\r\n\r\n```\r\nconst MyComponent1 = () => {\r\n    const [viewState, setViewState] = useState(() => getViewStateFromLocalStorage())\r\n    return <button onClick={() => setViewState(oldViewState => toggledViewState(oldViewState))>{viewState}</button>\r\n}\r\n```\r\n\r\nA common workaround is to use `useEffect` to apply client data only after hydration:\r\n\r\n```\r\nconst MyComponent2 = () => {\r\n    const [viewState, setViewState] = useState('A')\r\n\r\n    useEffect(()=>{\r\n        setViewState(getViewStateFromLocalStorage())\r\n    },[])\r\n\r\n    return <button onClick={() => setViewState(oldViewState => toggledViewState(oldViewState))>{viewState}</button>\r\n}\r\n```\r\n\r\nThis workaround comes with a downside: for case 2 where the component only appears later after hydration, it would still flash from showing `\"A\"` first, and then the view state from `localStorage`. To make the component directly show the view state from `localStorage`, the code in `MyComponent1` would need to be used, but then the component can not be used in initial server renderings. So the component itself needs knowledge in which contexts it will be used, which is not ideal for modularity.\r\n\r\nI currently know of no way to make the component work for both case 1 and case 2 and show the view state from `localStorage` directly in the initial render for case 2 without giving the component knowledge of its outer context.\r\n\r\nI see 2 different theoretical approaches to solve this issue which are not yet possible in React AFAIK:\r\n\r\n1. Signal to React that the component could cause hydration errors to make it compare the dom exactly and fix it accordingly:\r\n\r\n```\r\nconst MyComponent: FunctionComponent = () => {\r\n    const [viewState, setViewState] = useState(() => getViewStateFromLocalStorage())\r\n    return <button onClick={() => setViewState(oldViewState => toggledViewState(oldViewState))>{viewState}</button>\r\n}\r\n\r\nMyComponent.gracefulHydrationErrors = true\r\n```\r\n\r\n2. Get the info from React if the current render of the component is currently rendering as part of the initial render during `hydrate()`:\r\n\r\n```\r\nconst MyComponent = () => {\r\n    const isHydrating = useIsHydrating()\r\n    const [viewState, setViewState] = useState(() => isHydrating ? 'A' : getViewStateFromLocalStorage())\r\n\r\n    useEffect(()=>{\r\n        setViewState(getViewStateFromLocalStorage())\r\n    },[])\r\n\r\n    return <button onClick={() => setViewState(oldViewState => toggledViewState(oldViewState))>{viewState}</button>\r\n}\r\n```\r\n\r\nIs there already a way to solve this issue properly with available apis? The solution also needs to work with React 18 partial hydration and concurrent mode.\r\n",
        "closed_by": null,
        "reactions": {
          "url": "https://api.github.com/repos/facebook/react/issues/23068/reactions",
          "total_count": 15,
          "+1": 15,
          "-1": 0,
          "laugh": 0,
          "hooray": 0,
          "confused": 0,
          "heart": 0,
          "rocket": 0,
          "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/facebook/react/issues/23068/timeline",
        "performed_via_github_app": null,
        "state_reason": null
      },
      {
        "url": "https://api.github.com/repos/facebook/react/issues/23045",
        "repository_url": "https://api.github.com/repos/facebook/react",
        "labels_url": "https://api.github.com/repos/facebook/react/issues/23045/labels{/name}",
        "comments_url": "https://api.github.com/repos/facebook/react/issues/23045/comments",
        "events_url": "https://api.github.com/repos/facebook/react/issues/23045/events",
        "html_url": "https://github.com/facebook/react/issues/23045",
        "id": 1090799316,
        "node_id": "I_kwDOAJy2Ks5BBEbU",
        "number": 23045,
        "title": "React 18 Suspense unable to track when a promise completes causing SWR failure",
        "user": {
          "login": "pkellner",
          "id": 241170,
          "node_id": "MDQ6VXNlcjI0MTE3MA==",
          "avatar_url": "https://avatars.githubusercontent.com/u/241170?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/pkellner",
          "html_url": "https://github.com/pkellner",
          "followers_url": "https://api.github.com/users/pkellner/followers",
          "following_url": "https://api.github.com/users/pkellner/following{/other_user}",
          "gists_url": "https://api.github.com/users/pkellner/gists{/gist_id}",
          "starred_url": "https://api.github.com/users/pkellner/starred{/owner}{/repo}",
          "subscriptions_url": "https://api.github.com/users/pkellner/subscriptions",
          "organizations_url": "https://api.github.com/users/pkellner/orgs",
          "repos_url": "https://api.github.com/users/pkellner/repos",
          "events_url": "https://api.github.com/users/pkellner/events{/privacy}",
          "received_events_url": "https://api.github.com/users/pkellner/received_events",
          "type": "User",
          "user_view_type": "public",
          "site_admin": false
        },
        "labels": [
          {
            "id": 710375792,
            "node_id": "MDU6TGFiZWw3MTAzNzU3OTI=",
            "url": "https://api.github.com/repos/facebook/react/labels/Type:%20Discussion",
            "name": "Type: Discussion",
            "color": "fef2c0",
            "default": false,
            "description": null
          },
          {
            "id": 3079053919,
            "node_id": "MDU6TGFiZWwzMDc5MDUzOTE5",
            "url": "https://api.github.com/repos/facebook/react/labels/React%2018",
            "name": "React 18",
            "color": "26B0E4",
            "default": false,
            "description": "Bug reports, questions, and general feedback about React 18"
          }
        ],
        "state": "open",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 10,
        "created_at": "2021-12-29T23:48:09Z",
        "updated_at": "2022-10-15T23:39:06Z",
        "closed_at": null,
        "author_association": "NONE",
        "type": null,
        "active_lock_reason": null,
        "sub_issues_summary": {
          "total": 0,
          "completed": 0,
          "percent_completed": 0
        },
        "issue_dependencies_summary": {
          "blocked_by": 0,
          "total_blocked_by": 0,
          "blocking": 0,
          "total_blocking": 0
        },
        "body": "When working with [SWR](https://swr.vercel.app/)  with `React 17`, you could pass to `useSwr` on `onSuccess` parameter which would assign a completion function so that when an async call finished, you could take some action (for example, when not using Relay, you can trigger another component to begin loading data based on the returned data from `useSwr`.\r\n\r\nAfter [this lengthy issue](https://github.com/vercel/swr/issues/1733) with @promer94, one of the devs on SWR, we found an ugly workaround with `useEffect` and some negative logic, but it is not satisfactory and will always be hard to reason about as well as do so similar things without introducing bugs. To quote @promer94, `i think we need more time to understand concurrent mode before we change current api design`.  This feels to me like either we don't understand how Suspense works, or there is a serious usability issue if not using Relay.\r\n\r\nIt's summarized best here:  https://github.com/vercel/swr/issues/1733#issuecomment-1001391484 .  Assuming this is correct, there is no determinant way to know when components suspense promise completes, and no way to act on that which would be required in multi-component scenarios.\r\n\r\nThe issue mentioned above https://github.com/vercel/swr/issues/1733 explains in more detail the problem, and the example code that demonstrates it by having to do the ugly workaround for not having `onSuccess` is in this repo:  https://github.com/pkellner/pluralsight-react-18-suspense-swr-problem/blob/master/src/components/CityListItems.js\r\n\r\nIf you want to see the program working you can view it on this link. Notice that after the city list loads, the first city becomes selected.  That was trivial using React 17 with SWR and really hard with React 18 and Suspense enabled.\r\n\r\nhttps://pluralsight-react-18-first-look.peterkellner.net/#\r\n\r\nThe source for the app with Suspense is here:  https://github.com/pkellner/airquality\r\n\r\n\r\n\r\n\r\n",
        "closed_by": null,
        "reactions": {
          "url": "https://api.github.com/repos/facebook/react/issues/23045/reactions",
          "total_count": 0,
          "+1": 0,
          "-1": 0,
          "laugh": 0,
          "hooray": 0,
          "confused": 0,
          "heart": 0,
          "rocket": 0,
          "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/facebook/react/issues/23045/timeline",
        "performed_via_github_app": null,
        "state_reason": null
      },
      {
        "url": "https://api.github.com/repos/facebook/react/issues/22794",
        "repository_url": "https://api.github.com/repos/facebook/react",
        "labels_url": "https://api.github.com/repos/facebook/react/issues/22794/labels{/name}",
        "comments_url": "https://api.github.com/repos/facebook/react/issues/22794/comments",
        "events_url": "https://api.github.com/repos/facebook/react/issues/22794/events",
        "html_url": "https://github.com/facebook/react/issues/22794",
        "id": 1058801988,
        "node_id": "I_kwDOAJy2Ks4_HAlE",
        "number": 22794,
        "title": "React 18 not passive wheel / touch event listeners support",
        "user": {
          "login": "YuriGor",
          "id": 6861317,
          "node_id": "MDQ6VXNlcjY4NjEzMTc=",
          "avatar_url": "https://avatars.githubusercontent.com/u/6861317?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/YuriGor",
          "html_url": "https://github.com/YuriGor",
          "followers_url": "https://api.github.com/users/YuriGor/followers",
          "following_url": "https://api.github.com/users/YuriGor/following{/other_user}",
          "gists_url": "https://api.github.com/users/YuriGor/gists{/gist_id}",
          "starred_url": "https://api.github.com/users/YuriGor/starred{/owner}{/repo}",
          "subscriptions_url": "https://api.github.com/users/YuriGor/subscriptions",
          "organizations_url": "https://api.github.com/users/YuriGor/orgs",
          "repos_url": "https://api.github.com/users/YuriGor/repos",
          "events_url": "https://api.github.com/users/YuriGor/events{/privacy}",
          "received_events_url": "https://api.github.com/users/YuriGor/received_events",
          "type": "User",
          "user_view_type": "public",
          "site_admin": false
        },
        "labels": [
          {
            "id": 710375792,
            "node_id": "MDU6TGFiZWw3MTAzNzU3OTI=",
            "url": "https://api.github.com/repos/facebook/react/labels/Type:%20Discussion",
            "name": "Type: Discussion",
            "color": "fef2c0",
            "default": false,
            "description": null
          },
          {
            "id": 3079053919,
            "node_id": "MDU6TGFiZWwzMDc5MDUzOTE5",
            "url": "https://api.github.com/repos/facebook/react/labels/React%2018",
            "name": "React 18",
            "color": "26B0E4",
            "default": false,
            "description": "Bug reports, questions, and general feedback about React 18"
          }
        ],
        "state": "open",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 14,
        "created_at": "2021-11-19T18:26:12Z",
        "updated_at": "2024-04-28T13:20:04Z",
        "closed_at": null,
        "author_association": "NONE",
        "type": null,
        "active_lock_reason": null,
        "sub_issues_summary": {
          "total": 0,
          "completed": 0,
          "percent_completed": 0
        },
        "issue_dependencies_summary": {
          "blocked_by": 0,
          "total_blocked_by": 0,
          "blocking": 0,
          "total_blocking": 0
        },
        "body": "Hi all, is there any chances React 18 will support not passive wheel / touch event listeners?\r\nIn React 17 they are passive so no way to preventDefault and I had to add active listeners manually by ref.\r\nSo maybe in v18 there will be some option to make them not passive in react?\r\n\r\nI just tested my code with React 18 beta and found some internal order of useEffect calls was changed, so my approach is failing because of desync of changes made in active listener vs other props changes.\r\n\r\n",
        "closed_by": null,
        "reactions": {
          "url": "https://api.github.com/repos/facebook/react/issues/22794/reactions",
          "total_count": 16,
          "+1": 15,
          "-1": 0,
          "laugh": 0,
          "hooray": 0,
          "confused": 0,
          "heart": 0,
          "rocket": 0,
          "eyes": 1
        },
        "timeline_url": "https://api.github.com/repos/facebook/react/issues/22794/timeline",
        "performed_via_github_app": null,
        "state_reason": null
      },
      {
        "url": "https://api.github.com/repos/facebook/react/issues/22733",
        "repository_url": "https://api.github.com/repos/facebook/react",
        "labels_url": "https://api.github.com/repos/facebook/react/issues/22733/labels{/name}",
        "comments_url": "https://api.github.com/repos/facebook/react/issues/22733/comments",
        "events_url": "https://api.github.com/repos/facebook/react/issues/22733/events",
        "html_url": "https://github.com/facebook/react/issues/22733",
        "id": 1049280671,
        "node_id": "I_kwDOAJy2Ks4-isCf",
        "number": 22733,
        "title": "React 18 requests similar component trees for the useId",
        "user": {
          "login": "theKashey",
          "id": 582410,
          "node_id": "MDQ6VXNlcjU4MjQxMA==",
          "avatar_url": "https://avatars.githubusercontent.com/u/582410?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/theKashey",
          "html_url": "https://github.com/theKashey",
          "followers_url": "https://api.github.com/users/theKashey/followers",
          "following_url": "https://api.github.com/users/theKashey/following{/other_user}",
          "gists_url": "https://api.github.com/users/theKashey/gists{/gist_id}",
          "starred_url": "https://api.github.com/users/theKashey/starred{/owner}{/repo}",
          "subscriptions_url": "https://api.github.com/users/theKashey/subscriptions",
          "organizations_url": "https://api.github.com/users/theKashey/orgs",
          "repos_url": "https://api.github.com/users/theKashey/repos",
          "events_url": "https://api.github.com/users/theKashey/events{/privacy}",
          "received_events_url": "https://api.github.com/users/theKashey/received_events",
          "type": "User",
          "user_view_type": "public",
          "site_admin": false
        },
        "labels": [
          {
            "id": 710375792,
            "node_id": "MDU6TGFiZWw3MTAzNzU3OTI=",
            "url": "https://api.github.com/repos/facebook/react/labels/Type:%20Discussion",
            "name": "Type: Discussion",
            "color": "fef2c0",
            "default": false,
            "description": null
          },
          {
            "id": 3079053919,
            "node_id": "MDU6TGFiZWwzMDc5MDUzOTE5",
            "url": "https://api.github.com/repos/facebook/react/labels/React%2018",
            "name": "React 18",
            "color": "26B0E4",
            "default": false,
            "description": "Bug reports, questions, and general feedback about React 18"
          }
        ],
        "state": "open",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 11,
        "created_at": "2021-11-10T00:56:11Z",
        "updated_at": "2025-10-21T06:45:28Z",
        "closed_at": null,
        "author_association": "CONTRIBUTOR",
        "type": null,
        "active_lock_reason": null,
        "sub_issues_summary": {
          "total": 0,
          "completed": 0,
          "percent_completed": 0
        },
        "issue_dependencies_summary": {
          "blocked_by": 0,
          "total_blocked_by": 0,
          "blocking": 0,
          "total_blocking": 0
        },
        "body": "- based on: https://github.com/reactwg/react-18/discussions/111\r\n- sandbox: https://codesandbox.io/s/admiring-oskar-mqwdm?file=/src/App.js\r\n\r\n## Origins\r\nHistorically SSR was requiring some extra components to create a special \"server\" environment. Usually the ServerApplication is expected to be wrapped with different `collectors` and `providers` in order to power code splitting, style extraction, media queries, and many other things, some part of which don't have to be used on the client side, or even cannot exists at all.\r\n\r\nClientSide in turn, might contain some elements not required for the Server\r\n\r\n## The problem\r\nAccording to my experiments for the proper use of `useId` one does not need ideally matching component trees - any number of \"wrappers\" are allowed, and only having \"more than one child\" is breaking id generation, however it does not cause any hydration id and cannot be detected without a context-aware test.\r\n\r\n```tsx\r\nconst ServerProvider = ({ children }) => (\r\n  <context.Provider value={\"server\"}>\r\n    <SugarComponent>{children}</SugarComponent>\r\n  </context.Provider>\r\n);\r\n\r\nexport const ServerApp = () => {\r\n  return (\r\n    <ServerProvider>\r\n      {/* this one is breaking */}\r\n      {/* <SugarComponent /> */} ðŸ‘ˆ having this one will break id generation\r\n      <SugarComponent>\r\n        <App /> ðŸ‘ˆ client will render only this\r\n      </SugarComponent>\r\n    </ServerProvider>\r\n  );\r\n```\r\n\r\n## The question\r\nWhat level of similarity is really required? What actually matters - the path(so internals of siblings do not matter), or everything \"before this point\"(probably not due to Selective Hydration)?\r\n\r\nHow one can understand are component trees are similar enough, or one should not try to do that, comparing the expected behavior (matching Ids) without relying on implementation details of `useId` (currently one has to)\r\n",
        "closed_by": null,
        "reactions": {
          "url": "https://api.github.com/repos/facebook/react/issues/22733/reactions",
          "total_count": 6,
          "+1": 6,
          "-1": 0,
          "laugh": 0,
          "hooray": 0,
          "confused": 0,
          "heart": 0,
          "rocket": 0,
          "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/facebook/react/issues/22733/timeline",
        "performed_via_github_app": null,
        "state_reason": null
      },
      {
        "url": "https://api.github.com/repos/facebook/react/issues/22692",
        "repository_url": "https://api.github.com/repos/facebook/react",
        "labels_url": "https://api.github.com/repos/facebook/react/issues/22692/labels{/name}",
        "comments_url": "https://api.github.com/repos/facebook/react/issues/22692/comments",
        "events_url": "https://api.github.com/repos/facebook/react/issues/22692/events",
        "html_url": "https://github.com/facebook/react/issues/22692",
        "id": 1044380796,
        "node_id": "I_kwDOAJy2Ks4-P_x8",
        "number": 22692,
        "title": "[React 18] Selective Hydration fails hydration when using context api",
        "user": {
          "login": "maraisr",
          "id": 599459,
          "node_id": "MDQ6VXNlcjU5OTQ1OQ==",
          "avatar_url": "https://avatars.githubusercontent.com/u/599459?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/maraisr",
          "html_url": "https://github.com/maraisr",
          "followers_url": "https://api.github.com/users/maraisr/followers",
          "following_url": "https://api.github.com/users/maraisr/following{/other_user}",
          "gists_url": "https://api.github.com/users/maraisr/gists{/gist_id}",
          "starred_url": "https://api.github.com/users/maraisr/starred{/owner}{/repo}",
          "subscriptions_url": "https://api.github.com/users/maraisr/subscriptions",
          "organizations_url": "https://api.github.com/users/maraisr/orgs",
          "repos_url": "https://api.github.com/users/maraisr/repos",
          "events_url": "https://api.github.com/users/maraisr/events{/privacy}",
          "received_events_url": "https://api.github.com/users/maraisr/received_events",
          "type": "User",
          "user_view_type": "public",
          "site_admin": true
        },
        "labels": [
          {
            "id": 710375792,
            "node_id": "MDU6TGFiZWw3MTAzNzU3OTI=",
            "url": "https://api.github.com/repos/facebook/react/labels/Type:%20Discussion",
            "name": "Type: Discussion",
            "color": "fef2c0",
            "default": false,
            "description": null
          },
          {
            "id": 3079053919,
            "node_id": "MDU6TGFiZWwzMDc5MDUzOTE5",
            "url": "https://api.github.com/repos/facebook/react/labels/React%2018",
            "name": "React 18",
            "color": "26B0E4",
            "default": false,
            "description": "Bug reports, questions, and general feedback about React 18"
          }
        ],
        "state": "open",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 20,
        "created_at": "2021-11-04T05:34:09Z",
        "updated_at": "2021-12-09T21:35:20Z",
        "closed_at": null,
        "author_association": "NONE",
        "type": null,
        "active_lock_reason": null,
        "sub_issues_summary": {
          "total": 0,
          "completed": 0,
          "percent_completed": 0
        },
        "issue_dependencies_summary": {
          "blocked_by": 0,
          "total_blocked_by": 0,
          "blocking": 0,
          "total_blocking": 0
        },
        "body": "Based on the selective hydration example provided by @gaearon ?? \r\n\r\nhttps://codesandbox.io/s/mystifying-haibt-39oed\r\n\r\nLook out for ðŸ‘‰\r\n![image](https://user-images.githubusercontent.com/599459/140265026-bc9f2b34-1489-4021-a592-89aa282bf561.png)\r\n\r\n\r\nOne can see that hydrating html does in fact fail when using Context API â€” or perhaps that's a red herring? The trees do in fact line up during render, and hydration, there's just an effect that sets state â€” but that is post hydration??\r\n\r\nCould be them related; in anycase â€” strictly speaking to that code sandbox, what am i doing wrongly?\r\n\r\n---\r\n\r\nInitially caught when `ImportedComponent` fails see https://github.com/theKashey/react-imported-component/blob/c290d76623693389a11cc514c92f47efadac47ba/src/ui/ImportedController.tsx#L29",
        "closed_by": null,
        "reactions": {
          "url": "https://api.github.com/repos/facebook/react/issues/22692/reactions",
          "total_count": 0,
          "+1": 0,
          "-1": 0,
          "laugh": 0,
          "hooray": 0,
          "confused": 0,
          "heart": 0,
          "rocket": 0,
          "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/facebook/react/issues/22692/timeline",
        "performed_via_github_app": null,
        "state_reason": null
      },
      {
        "url": "https://api.github.com/repos/facebook/react/issues/22650",
        "repository_url": "https://api.github.com/repos/facebook/react",
        "labels_url": "https://api.github.com/repos/facebook/react/issues/22650/labels{/name}",
        "comments_url": "https://api.github.com/repos/facebook/react/issues/22650/comments",
        "events_url": "https://api.github.com/repos/facebook/react/issues/22650/events",
        "html_url": "https://github.com/facebook/react/issues/22650",
        "id": 1039035115,
        "node_id": "I_kwDOAJy2Ks497mrr",
        "number": 22650,
        "title": "React 18 - Internal React error if throwing on hook cleanup function.",
        "user": {
          "login": "andrew-w-ross",
          "id": 14924726,
          "node_id": "MDQ6VXNlcjE0OTI0NzI2",
          "avatar_url": "https://avatars.githubusercontent.com/u/14924726?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/andrew-w-ross",
          "html_url": "https://github.com/andrew-w-ross",
          "followers_url": "https://api.github.com/users/andrew-w-ross/followers",
          "following_url": "https://api.github.com/users/andrew-w-ross/following{/other_user}",
          "gists_url": "https://api.github.com/users/andrew-w-ross/gists{/gist_id}",
          "starred_url": "https://api.github.com/users/andrew-w-ross/starred{/owner}{/repo}",
          "subscriptions_url": "https://api.github.com/users/andrew-w-ross/subscriptions",
          "organizations_url": "https://api.github.com/users/andrew-w-ross/orgs",
          "repos_url": "https://api.github.com/users/andrew-w-ross/repos",
          "events_url": "https://api.github.com/users/andrew-w-ross/events{/privacy}",
          "received_events_url": "https://api.github.com/users/andrew-w-ross/received_events",
          "type": "User",
          "user_view_type": "public",
          "site_admin": false
        },
        "labels": [
          {
            "id": 40929151,
            "node_id": "MDU6TGFiZWw0MDkyOTE1MQ==",
            "url": "https://api.github.com/repos/facebook/react/labels/Type:%20Bug",
            "name": "Type: Bug",
            "color": "b60205",
            "default": false,
            "description": null
          },
          {
            "id": 710400704,
            "node_id": "MDU6TGFiZWw3MTA0MDA3MDQ=",
            "url": "https://api.github.com/repos/facebook/react/labels/Component:%20Test%20Renderer",
            "name": "Component: Test Renderer",
            "color": "006b75",
            "default": false,
            "description": null
          }
        ],
        "state": "open",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 8,
        "created_at": "2021-10-28T23:37:02Z",
        "updated_at": "2023-06-14T08:13:38Z",
        "closed_at": null,
        "author_association": "NONE",
        "type": null,
        "active_lock_reason": null,
        "sub_issues_summary": {
          "total": 0,
          "completed": 0,
          "percent_completed": 0
        },
        "issue_dependencies_summary": {
          "blocked_by": 0,
          "total_blocked_by": 0,
          "blocking": 0,
          "total_blocking": 0
        },
        "body": "Running the following test:\r\n\r\n```javascript\r\nimport React, { useEffect } from \"react\";\r\nimport { create } from \"react-test-renderer\";\r\n\r\nconst Boom = () => {\r\n    useEffect(() => {\r\n        return () => {\r\n            throw new Error(\"Boom\");\r\n        };\r\n    }, []);\r\n\r\n    return null;\r\n};\r\n\r\nit(\"prints an error to the console on next is fine on latest\", () => {\r\n    const res = create(<Boom />);\r\n    res.unmount();    \r\n});\r\n```\r\n\r\nI'll get the following error message: \r\n```\r\n console.error\r\n    Warning: Internal React error: Attempted to capture a commit phase error inside a detached tree. This indicates a bug in React. Likely causes include deleting the same fiber more than once, committing an already-finished tree, or an inconsistent return pointer.\r\n```\r\n\r\nThe test will pass but considering the nature of the message and that it differs from latest I thought reporting it might be a good idea.  Repo if you need it https://github.com/andrew-w-ross/react-18-unmount-error\r\n",
        "closed_by": null,
        "reactions": {
          "url": "https://api.github.com/repos/facebook/react/issues/22650/reactions",
          "total_count": 2,
          "+1": 2,
          "-1": 0,
          "laugh": 0,
          "hooray": 0,
          "confused": 0,
          "heart": 0,
          "rocket": 0,
          "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/facebook/react/issues/22650/timeline",
        "performed_via_github_app": null,
        "state_reason": null
      },
      {
        "url": "https://api.github.com/repos/facebook/react/issues/22626",
        "repository_url": "https://api.github.com/repos/facebook/react",
        "labels_url": "https://api.github.com/repos/facebook/react/issues/22626/labels{/name}",
        "comments_url": "https://api.github.com/repos/facebook/react/issues/22626/comments",
        "events_url": "https://api.github.com/repos/facebook/react/issues/22626/events",
        "html_url": "https://github.com/facebook/react/issues/22626",
        "id": 1035758075,
        "node_id": "I_kwDOAJy2Ks49vGn7",
        "number": 22626,
        "title": "React 18 - waterfall suspensions re-trigger the Suspense boundary ",
        "user": {
          "login": "arackaf",
          "id": 11261266,
          "node_id": "MDQ6VXNlcjExMjYxMjY2",
          "avatar_url": "https://avatars.githubusercontent.com/u/11261266?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/arackaf",
          "html_url": "https://github.com/arackaf",
          "followers_url": "https://api.github.com/users/arackaf/followers",
          "following_url": "https://api.github.com/users/arackaf/following{/other_user}",
          "gists_url": "https://api.github.com/users/arackaf/gists{/gist_id}",
          "starred_url": "https://api.github.com/users/arackaf/starred{/owner}{/repo}",
          "subscriptions_url": "https://api.github.com/users/arackaf/subscriptions",
          "organizations_url": "https://api.github.com/users/arackaf/orgs",
          "repos_url": "https://api.github.com/users/arackaf/repos",
          "events_url": "https://api.github.com/users/arackaf/events{/privacy}",
          "received_events_url": "https://api.github.com/users/arackaf/received_events",
          "type": "User",
          "user_view_type": "public",
          "site_admin": false
        },
        "labels": [
          {
            "id": 710375792,
            "node_id": "MDU6TGFiZWw3MTAzNzU3OTI=",
            "url": "https://api.github.com/repos/facebook/react/labels/Type:%20Discussion",
            "name": "Type: Discussion",
            "color": "fef2c0",
            "default": false,
            "description": null
          },
          {
            "id": 3079053919,
            "node_id": "MDU6TGFiZWwzMDc5MDUzOTE5",
            "url": "https://api.github.com/repos/facebook/react/labels/React%2018",
            "name": "React 18",
            "color": "26B0E4",
            "default": false,
            "description": "Bug reports, questions, and general feedback about React 18"
          }
        ],
        "state": "open",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 16,
        "created_at": "2021-10-26T02:36:18Z",
        "updated_at": "2021-10-30T00:36:49Z",
        "closed_at": null,
        "author_association": "NONE",
        "type": null,
        "active_lock_reason": null,
        "sub_issues_summary": {
          "total": 0,
          "completed": 0,
          "percent_completed": 0
        },
        "issue_dependencies_summary": {
          "blocked_by": 0,
          "total_blocked_by": 0,
          "blocking": 0,
          "total_blocking": 0
        },
        "body": "I'm seeing some baffling behavior with React 18 in concurrent mode. The minimal repro is below. The tl;dr is this:\r\n\r\nI have a single Suspense boundary at the root of the application. The fallback turns the screen pink (so you know it's there).\r\n\r\n## Problem 1\r\n\r\nI load some data with a Suspense hook. When the data come back, and render, subsequent Suspensions will happen, since I have a SuspenseImg component which suspends while each image preloads. \r\n\r\n**Expected Behavior**\r\n\r\nThe fallback should show until the data come in, and all of the subsequent image preloads are done.\r\n\r\n**Actual Behavior**\r\n\r\nThe fallback shows, then the page renders briefly, without data, and then re-suspends while the images preload.\r\n\r\n---\r\n\r\n## Problem 2\r\n\r\nThere's a button which loads more data, using startTransition. The data load re-triggers the same suspension, and the new data cause the same suspensions when rendered, via the same SuspenseImg (I force it to suspend even though I'm loading the same 5 images over and over).\r\n\r\n**Expected Behavior**\r\n\r\nThe loading boolean from useTransition should show until the data are returned, and all of the images have pre-loaded\r\n\r\n**Actual Behavior**\r\n\r\nThe loading boolean shows while the data are loading, and then the main fallback shows while the images preload.\r\n\r\n---\r\n\r\nI'll assume this isn't a bug, and that I instead have misunderstood how this works. I had thought Suspense was supposed to make this stuff fire and forget, with React keeping the appropriate fallback / loading boolean set until the entire state has been set, and everything rendered without anything suspending. But it seems I've misunderstood something? \r\n\r\n---\r\n\r\nhttps://codesandbox.io/s/suspense-debug-pz5mz?file=/src/useQuery.js",
        "closed_by": null,
        "reactions": {
          "url": "https://api.github.com/repos/facebook/react/issues/22626/reactions",
          "total_count": 0,
          "+1": 0,
          "-1": 0,
          "laugh": 0,
          "hooray": 0,
          "confused": 0,
          "heart": 0,
          "rocket": 0,
          "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/facebook/react/issues/22626/timeline",
        "performed_via_github_app": null,
        "state_reason": null
      },
      {
        "url": "https://api.github.com/repos/facebook/react/issues/21903",
        "repository_url": "https://api.github.com/repos/facebook/react",
        "labels_url": "https://api.github.com/repos/facebook/react/issues/21903/labels{/name}",
        "comments_url": "https://api.github.com/repos/facebook/react/issues/21903/comments",
        "events_url": "https://api.github.com/repos/facebook/react/issues/21903/events",
        "html_url": "https://github.com/facebook/react/issues/21903",
        "id": 946836619,
        "node_id": "MDU6SXNzdWU5NDY4MzY2MTk=",
        "number": 21903,
        "title": "React 18 let's make ref.currant to be reactive value",
        "user": {
          "login": "MaxmaxmaximusAWS",
          "id": 69426460,
          "node_id": "MDQ6VXNlcjY5NDI2NDYw",
          "avatar_url": "https://avatars.githubusercontent.com/u/69426460?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/MaxmaxmaximusAWS",
          "html_url": "https://github.com/MaxmaxmaximusAWS",
          "followers_url": "https://api.github.com/users/MaxmaxmaximusAWS/followers",
          "following_url": "https://api.github.com/users/MaxmaxmaximusAWS/following{/other_user}",
          "gists_url": "https://api.github.com/users/MaxmaxmaximusAWS/gists{/gist_id}",
          "starred_url": "https://api.github.com/users/MaxmaxmaximusAWS/starred{/owner}{/repo}",
          "subscriptions_url": "https://api.github.com/users/MaxmaxmaximusAWS/subscriptions",
          "organizations_url": "https://api.github.com/users/MaxmaxmaximusAWS/orgs",
          "repos_url": "https://api.github.com/users/MaxmaxmaximusAWS/repos",
          "events_url": "https://api.github.com/users/MaxmaxmaximusAWS/events{/privacy}",
          "received_events_url": "https://api.github.com/users/MaxmaxmaximusAWS/received_events",
          "type": "User",
          "user_view_type": "public",
          "site_admin": false
        },
        "labels": [
          {
            "id": 710375792,
            "node_id": "MDU6TGFiZWw3MTAzNzU3OTI=",
            "url": "https://api.github.com/repos/facebook/react/labels/Type:%20Discussion",
            "name": "Type: Discussion",
            "color": "fef2c0",
            "default": false,
            "description": null
          },
          {
            "id": 3079053919,
            "node_id": "MDU6TGFiZWwzMDc5MDUzOTE5",
            "url": "https://api.github.com/repos/facebook/react/labels/React%2018",
            "name": "React 18",
            "color": "26B0E4",
            "default": false,
            "description": "Bug reports, questions, and general feedback about React 18"
          }
        ],
        "state": "open",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 12,
        "created_at": "2021-07-17T14:39:21Z",
        "updated_at": "2023-05-18T20:50:26Z",
        "closed_at": null,
        "author_association": "NONE",
        "type": null,
        "active_lock_reason": null,
        "sub_issues_summary": {
          "total": 0,
          "completed": 0,
          "percent_completed": 0
        },
        "issue_dependencies_summary": {
          "blocked_by": 0,
          "total_blocked_by": 0,
          "blocking": 0,
          "total_blocking": 0
        },
        "body": "Let's add this hook as part of the core. Since this is a common need, many people often ask the question \"Why does useEffect not sense ref.current changes?\"\r\n\r\n```js\r\n// approximate implementation\r\nconst useReactiveRef = (defaultValue) => {\r\n  const [current, ref] = useState(defaultValue)\r\n  ref.current = current\r\n  return ref\r\n}\r\n```\r\n\r\nUsage example:\r\n```js\r\nconst Component = () => {\r\n  const ref = React.useReactiveRef()\r\n\r\n  useEffect(() => {\r\n    // ref.current now is reactive\r\n    console.log(ref.current)\r\n  }, [ref.current])\r\n\r\n  return <div ref={ref}></div>\r\n}\r\n```\r\n",
        "closed_by": null,
        "reactions": {
          "url": "https://api.github.com/repos/facebook/react/issues/21903/reactions",
          "total_count": 3,
          "+1": 3,
          "-1": 0,
          "laugh": 0,
          "hooray": 0,
          "confused": 0,
          "heart": 0,
          "rocket": 0,
          "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/facebook/react/issues/21903/timeline",
        "performed_via_github_app": null,
        "state_reason": null
      },
      {
        "url": "https://api.github.com/repos/facebook/react/issues/21879",
        "repository_url": "https://api.github.com/repos/facebook/react",
        "labels_url": "https://api.github.com/repos/facebook/react/issues/21879/labels{/name}",
        "comments_url": "https://api.github.com/repos/facebook/react/issues/21879/comments",
        "events_url": "https://api.github.com/repos/facebook/react/issues/21879/events",
        "html_url": "https://github.com/facebook/react/pull/21879",
        "id": 944483807,
        "node_id": "MDExOlB1bGxSZXF1ZXN0Njg5OTYxMTM2",
        "number": 21879,
        "title": "devtools: Add `ref` to inspect element view",
        "user": {
          "login": "eps1lon",
          "id": 12292047,
          "node_id": "MDQ6VXNlcjEyMjkyMDQ3",
          "avatar_url": "https://avatars.githubusercontent.com/u/12292047?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/eps1lon",
          "html_url": "https://github.com/eps1lon",
          "followers_url": "https://api.github.com/users/eps1lon/followers",
          "following_url": "https://api.github.com/users/eps1lon/following{/other_user}",
          "gists_url": "https://api.github.com/users/eps1lon/gists{/gist_id}",
          "starred_url": "https://api.github.com/users/eps1lon/starred{/owner}{/repo}",
          "subscriptions_url": "https://api.github.com/users/eps1lon/subscriptions",
          "organizations_url": "https://api.github.com/users/eps1lon/orgs",
          "repos_url": "https://api.github.com/users/eps1lon/repos",
          "events_url": "https://api.github.com/users/eps1lon/events{/privacy}",
          "received_events_url": "https://api.github.com/users/eps1lon/received_events",
          "type": "User",
          "user_view_type": "public",
          "site_admin": false
        },
        "labels": [
          {
            "id": 196858374,
            "node_id": "MDU6TGFiZWwxOTY4NTgzNzQ=",
            "url": "https://api.github.com/repos/facebook/react/labels/CLA%20Signed",
            "name": "CLA Signed",
            "color": "e7e7e7",
            "default": false,
            "description": null
          },
          {
            "id": 710375792,
            "node_id": "MDU6TGFiZWw3MTAzNzU3OTI=",
            "url": "https://api.github.com/repos/facebook/react/labels/Type:%20Discussion",
            "name": "Type: Discussion",
            "color": "fef2c0",
            "default": false,
            "description": null
          },
          {
            "id": 710573595,
            "node_id": "MDU6TGFiZWw3MTA1NzM1OTU=",
            "url": "https://api.github.com/repos/facebook/react/labels/Component:%20Developer%20Tools",
            "name": "Component: Developer Tools",
            "color": "fbca04",
            "default": false,
            "description": null
          }
        ],
        "state": "open",
        "locked": false,
        "assignee": {
          "login": "bvaughn",
          "id": 29597,
          "node_id": "MDQ6VXNlcjI5NTk3",
          "avatar_url": "https://avatars.githubusercontent.com/u/29597?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/bvaughn",
          "html_url": "https://github.com/bvaughn",
          "followers_url": "https://api.github.com/users/bvaughn/followers",
          "following_url": "https://api.github.com/users/bvaughn/following{/other_user}",
          "gists_url": "https://api.github.com/users/bvaughn/gists{/gist_id}",
          "starred_url": "https://api.github.com/users/bvaughn/starred{/owner}{/repo}",
          "subscriptions_url": "https://api.github.com/users/bvaughn/subscriptions",
          "organizations_url": "https://api.github.com/users/bvaughn/orgs",
          "repos_url": "https://api.github.com/users/bvaughn/repos",
          "events_url": "https://api.github.com/users/bvaughn/events{/privacy}",
          "received_events_url": "https://api.github.com/users/bvaughn/received_events",
          "type": "User",
          "user_view_type": "public",
          "site_admin": false
        },
        "assignees": [
          {
            "login": "bvaughn",
            "id": 29597,
            "node_id": "MDQ6VXNlcjI5NTk3",
            "avatar_url": "https://avatars.githubusercontent.com/u/29597?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/bvaughn",
            "html_url": "https://github.com/bvaughn",
            "followers_url": "https://api.github.com/users/bvaughn/followers",
            "following_url": "https://api.github.com/users/bvaughn/following{/other_user}",
            "gists_url": "https://api.github.com/users/bvaughn/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/bvaughn/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/bvaughn/subscriptions",
            "organizations_url": "https://api.github.com/users/bvaughn/orgs",
            "repos_url": "https://api.github.com/users/bvaughn/repos",
            "events_url": "https://api.github.com/users/bvaughn/events{/privacy}",
            "received_events_url": "https://api.github.com/users/bvaughn/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          }
        ],
        "milestone": null,
        "comments": 15,
        "created_at": "2021-07-14T14:23:54Z",
        "updated_at": "2025-07-14T18:58:19Z",
        "closed_at": null,
        "author_association": "COLLABORATOR",
        "type": null,
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
          "url": "https://api.github.com/repos/facebook/react/pulls/21879",
          "html_url": "https://github.com/facebook/react/pull/21879",
          "diff_url": "https://github.com/facebook/react/pull/21879.diff",
          "patch_url": "https://github.com/facebook/react/pull/21879.patch",
          "merged_at": null
        },
        "body": "## Summary\r\n\r\nDisplays the `ref` of an inspected element if the element has one. Was a bit difficult to track a particular ref through a somewhat larger component tree.\r\n\r\nRef to a class instance\r\n![localhost_8080_](https://user-images.githubusercontent.com/12292047/177032327-5e73882b-033b-4e78-b63d-f799b3367b92.png)\r\nRef to an Element\r\n![localhost_8080_ (1)](https://user-images.githubusercontent.com/12292047/177032330-7fbab3ff-fb56-4214-86a3-f861827cbf5b.png)\r\nanonymous callback ref\r\n![localhost_8080_ (2)](https://user-images.githubusercontent.com/12292047/177032332-2ac2256a-3ba2-46c3-886a-69ef6f44d4bd.png)\r\nnamed callback ref\r\n![localhost_8080_ (3)](https://user-images.githubusercontent.com/12292047/177032333-4ad8d2bd-ea16-468f-8c18-85c02463b5cb.png)\r\n\r\nThe UI feels a bit lost since we only have a single value in this new section. Ideally we'd have the `key` in the view too so we could create a \"Misc\" view. \r\n\r\nOn the other hand, the `ref` will eventually be just another prop (if I understood https://github.com/reactjs/rfcs/pull/107 correctly) so it'll merge with the props view eventually.\r\n\r\n## Test Plan\r\n\r\n- [x] Tested in shell\r\n- [x] CI green\r\n",
        "closed_by": null,
        "reactions": {
          "url": "https://api.github.com/repos/facebook/react/issues/21879/reactions",
          "total_count": 0,
          "+1": 0,
          "-1": 0,
          "laugh": 0,
          "hooray": 0,
          "confused": 0,
          "heart": 0,
          "rocket": 0,
          "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/facebook/react/issues/21879/timeline",
        "performed_via_github_app": null,
        "state_reason": null
      },
      {
        "url": "https://api.github.com/repos/facebook/react/issues/21802",
        "repository_url": "https://api.github.com/repos/facebook/react",
        "labels_url": "https://api.github.com/repos/facebook/react/issues/21802/labels{/name}",
        "comments_url": "https://api.github.com/repos/facebook/react/issues/21802/comments",
        "events_url": "https://api.github.com/repos/facebook/react/issues/21802/events",
        "html_url": "https://github.com/facebook/react/issues/21802",
        "id": 937377813,
        "node_id": "MDU6SXNzdWU5MzczNzc4MTM=",
        "number": 21802,
        "title": "[React 18] Possible Suspense Bug - Thrown error causes corrupted page",
        "user": {
          "login": "flybayer",
          "id": 8813276,
          "node_id": "MDQ6VXNlcjg4MTMyNzY=",
          "avatar_url": "https://avatars.githubusercontent.com/u/8813276?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/flybayer",
          "html_url": "https://github.com/flybayer",
          "followers_url": "https://api.github.com/users/flybayer/followers",
          "following_url": "https://api.github.com/users/flybayer/following{/other_user}",
          "gists_url": "https://api.github.com/users/flybayer/gists{/gist_id}",
          "starred_url": "https://api.github.com/users/flybayer/starred{/owner}{/repo}",
          "subscriptions_url": "https://api.github.com/users/flybayer/subscriptions",
          "organizations_url": "https://api.github.com/users/flybayer/orgs",
          "repos_url": "https://api.github.com/users/flybayer/repos",
          "events_url": "https://api.github.com/users/flybayer/events{/privacy}",
          "received_events_url": "https://api.github.com/users/flybayer/received_events",
          "type": "User",
          "user_view_type": "public",
          "site_admin": false
        },
        "labels": [
          {
            "id": 710722093,
            "node_id": "MDU6TGFiZWw3MTA3MjIwOTM=",
            "url": "https://api.github.com/repos/facebook/react/labels/Type:%20Needs%20Investigation",
            "name": "Type: Needs Investigation",
            "color": "65AA9C",
            "default": false,
            "description": ""
          },
          {
            "id": 3079053919,
            "node_id": "MDU6TGFiZWwzMDc5MDUzOTE5",
            "url": "https://api.github.com/repos/facebook/react/labels/React%2018",
            "name": "React 18",
            "color": "26B0E4",
            "default": false,
            "description": "Bug reports, questions, and general feedback about React 18"
          }
        ],
        "state": "open",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 12,
        "created_at": "2021-07-05T21:41:27Z",
        "updated_at": "2022-03-30T01:37:46Z",
        "closed_at": null,
        "author_association": "NONE",
        "type": null,
        "active_lock_reason": null,
        "sub_issues_summary": {
          "total": 0,
          "completed": 0,
          "percent_completed": 0
        },
        "issue_dependencies_summary": {
          "blocked_by": 0,
          "total_blocked_by": 0,
          "blocking": 0,
          "total_blocking": 0
        },
        "body": "I've found what I think to be a React bug, although it could be something we are doing wrong inside Blitz.js\r\n\r\n`React 18.0.0-alpha-ed6c091fe-20210701`\r\n\r\n## Basic Explanation\r\n\r\nThe position of a top level, unneeded `<Suspense>` component next to an `<ErrorBoundary>` causes odd UI rendering or totally corrupted page.\r\n\r\nFollowing are different variations of [this code](https://github.com/flybayer/blitz-react18/blob/main/app/pages/_app.tsx#L15-L22) inside `_app.tsx` (which is the same top level root as Next.js)\r\n\r\nThis code in `_app.tsx` causes a totally corrupted page (shows content on page that's no longer managed by React):\r\n```tsx\r\n    <Suspense fallback=\"Loading...\">\r\n      <ErrorBoundary FallbackComponent={RootErrorFallback}>\r\n        <Component {...pageProps} />\r\n      </ErrorBoundary>\r\n    </Suspense>\r\n```\r\n\r\nThis code in `_app.tsx` results in a correct end-result but has janky page transition.\r\n\r\n```tsx\r\n    <ErrorBoundary FallbackComponent={RootErrorFallback}>\r\n      <Suspense fallback=\"Loading...\">\r\n        <Component {...pageProps} />\r\n      </Suspense>\r\n    </ErrorBoundary>\r\n```\r\n\r\nThis code in `_app.tsx` without `<Suspense>` works flawless.\r\n\r\n```tsx\r\n    <ErrorBoundary FallbackComponent={RootErrorFallback}>\r\n      <Component {...pageProps} />\r\n    </ErrorBoundary>\r\n```\r\n\r\nI feel like this is a React bug because, to my knowledge, position of a `<Suspense>` component should have zero affect on a thrown error or ErrorBoundary.\r\n\r\n## Further Explanation\r\n\r\nIn Blitz.js, we have a feature for restricting access to certain pages based on the user login status. We implement this [by throwing a custom `RedirectError`](https://github.com/blitz-js/blitz/blob/canary/packages/core/src/auth/auth-client.ts#L68-L74). And then inside our `<ErrorBoundary>` component, [we call `router.push()`](https://github.com/blitz-js/blitz/blob/canary/packages/core/src/error-boundary.tsx#L94-L98) when RedirectError is caught. And while the ErrorBoundary is in that temporary in-between state, we [render null](https://github.com/blitz-js/blitz/blob/canary/packages/core/src/error-boundary.tsx#L154-L156). The issue described above occurs when a page transition is initiated via RedirectError.\r\n\r\nPlease let me know if there's something wrong with this approach or if there's a better way to implement the pattern. ðŸ™ \r\n\r\n## To Reproduce\r\n\r\n1. Open this codesandbox: https://codesandbox.io/s/sharp-antonelli-u982e\r\n1. Wait for the deps to install and home page to load (takes a bit)\r\n1. See both the contents of `/protected` and `/` on the same page:\r\n   - React dev tools shows that the `/protected` contents are no longer in the React tree\r\n![image](https://user-images.githubusercontent.com/8813276/124835823-f3c33880-df4f-11eb-9371-e8d0aee570b9.png)",
        "closed_by": {
          "login": "flybayer",
          "id": 8813276,
          "node_id": "MDQ6VXNlcjg4MTMyNzY=",
          "avatar_url": "https://avatars.githubusercontent.com/u/8813276?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/flybayer",
          "html_url": "https://github.com/flybayer",
          "followers_url": "https://api.github.com/users/flybayer/followers",
          "following_url": "https://api.github.com/users/flybayer/following{/other_user}",
          "gists_url": "https://api.github.com/users/flybayer/gists{/gist_id}",
          "starred_url": "https://api.github.com/users/flybayer/starred{/owner}{/repo}",
          "subscriptions_url": "https://api.github.com/users/flybayer/subscriptions",
          "organizations_url": "https://api.github.com/users/flybayer/orgs",
          "repos_url": "https://api.github.com/users/flybayer/repos",
          "events_url": "https://api.github.com/users/flybayer/events{/privacy}",
          "received_events_url": "https://api.github.com/users/flybayer/received_events",
          "type": "User",
          "user_view_type": "public",
          "site_admin": false
        },
        "reactions": {
          "url": "https://api.github.com/repos/facebook/react/issues/21802/reactions",
          "total_count": 0,
          "+1": 0,
          "-1": 0,
          "laugh": 0,
          "hooray": 0,
          "confused": 0,
          "heart": 0,
          "rocket": 0,
          "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/facebook/react/issues/21802/timeline",
        "performed_via_github_app": null,
        "state_reason": null
      },
      {
        "url": "https://api.github.com/repos/facebook/react/issues/21701",
        "repository_url": "https://api.github.com/repos/facebook/react",
        "labels_url": "https://api.github.com/repos/facebook/react/issues/21701/labels{/name}",
        "comments_url": "https://api.github.com/repos/facebook/react/issues/21701/comments",
        "events_url": "https://api.github.com/repos/facebook/react/issues/21701/events",
        "html_url": "https://github.com/facebook/react/issues/21701",
        "id": 924750916,
        "node_id": "MDU6SXNzdWU5MjQ3NTA5MTY=",
        "number": 21701,
        "title": "React 18 data fetching network call cancellation",
        "user": {
          "login": "rybon",
          "id": 1155839,
          "node_id": "MDQ6VXNlcjExNTU4Mzk=",
          "avatar_url": "https://avatars.githubusercontent.com/u/1155839?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/rybon",
          "html_url": "https://github.com/rybon",
          "followers_url": "https://api.github.com/users/rybon/followers",
          "following_url": "https://api.github.com/users/rybon/following{/other_user}",
          "gists_url": "https://api.github.com/users/rybon/gists{/gist_id}",
          "starred_url": "https://api.github.com/users/rybon/starred{/owner}{/repo}",
          "subscriptions_url": "https://api.github.com/users/rybon/subscriptions",
          "organizations_url": "https://api.github.com/users/rybon/orgs",
          "repos_url": "https://api.github.com/users/rybon/repos",
          "events_url": "https://api.github.com/users/rybon/events{/privacy}",
          "received_events_url": "https://api.github.com/users/rybon/received_events",
          "type": "User",
          "user_view_type": "public",
          "site_admin": false
        },
        "labels": [
          {
            "id": 710375792,
            "node_id": "MDU6TGFiZWw3MTAzNzU3OTI=",
            "url": "https://api.github.com/repos/facebook/react/labels/Type:%20Discussion",
            "name": "Type: Discussion",
            "color": "fef2c0",
            "default": false,
            "description": null
          },
          {
            "id": 3079053919,
            "node_id": "MDU6TGFiZWwzMDc5MDUzOTE5",
            "url": "https://api.github.com/repos/facebook/react/labels/React%2018",
            "name": "React 18",
            "color": "26B0E4",
            "default": false,
            "description": "Bug reports, questions, and general feedback about React 18"
          }
        ],
        "state": "open",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 3,
        "created_at": "2021-06-18T10:05:49Z",
        "updated_at": "2022-10-27T12:01:33Z",
        "closed_at": null,
        "author_association": "NONE",
        "type": null,
        "active_lock_reason": null,
        "sub_issues_summary": {
          "total": 0,
          "completed": 0,
          "percent_completed": 0
        },
        "issue_dependencies_summary": {
          "blocked_by": 0,
          "total_blocked_by": 0,
          "blocking": 0,
          "total_blocking": 0
        },
        "body": "I understood from various discussions online that for Suspense for data fetching to work properly React needs to be more directly involved in the mechanics of fetching data from the network. How will that work in practice? Would it take care of XHR cancellation for example in case a Suspense subtree is no longer needed or changes props? What will it mean for using libraries like Axios? Can strategies like retry with exponential backoff still be implemented? HTTP caching behavior?",
        "closed_by": null,
        "reactions": {
          "url": "https://api.github.com/repos/facebook/react/issues/21701/reactions",
          "total_count": 0,
          "+1": 0,
          "-1": 0,
          "laugh": 0,
          "hooray": 0,
          "confused": 0,
          "heart": 0,
          "rocket": 0,
          "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/facebook/react/issues/21701/timeline",
        "performed_via_github_app": null,
        "state_reason": null
      },
      {
        "url": "https://api.github.com/repos/facebook/react/issues/21668",
        "repository_url": "https://api.github.com/repos/facebook/react",
        "labels_url": "https://api.github.com/repos/facebook/react/issues/21668/labels{/name}",
        "comments_url": "https://api.github.com/repos/facebook/react/issues/21668/comments",
        "events_url": "https://api.github.com/repos/facebook/react/issues/21668/events",
        "html_url": "https://github.com/facebook/react/issues/21668",
        "id": 919517691,
        "node_id": "MDU6SXNzdWU5MTk1MTc2OTE=",
        "number": 21668,
        "title": "Question: Transition starvation in React 18?",
        "user": {
          "login": "Ephem",
          "id": 7420167,
          "node_id": "MDQ6VXNlcjc0MjAxNjc=",
          "avatar_url": "https://avatars.githubusercontent.com/u/7420167?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/Ephem",
          "html_url": "https://github.com/Ephem",
          "followers_url": "https://api.github.com/users/Ephem/followers",
          "following_url": "https://api.github.com/users/Ephem/following{/other_user}",
          "gists_url": "https://api.github.com/users/Ephem/gists{/gist_id}",
          "starred_url": "https://api.github.com/users/Ephem/starred{/owner}{/repo}",
          "subscriptions_url": "https://api.github.com/users/Ephem/subscriptions",
          "organizations_url": "https://api.github.com/users/Ephem/orgs",
          "repos_url": "https://api.github.com/users/Ephem/repos",
          "events_url": "https://api.github.com/users/Ephem/events{/privacy}",
          "received_events_url": "https://api.github.com/users/Ephem/received_events",
          "type": "User",
          "user_view_type": "public",
          "site_admin": false
        },
        "labels": [
          {
            "id": 620368407,
            "node_id": "MDU6TGFiZWw2MjAzNjg0MDc=",
            "url": "https://api.github.com/repos/facebook/react/labels/Resolution:%20Needs%20More%20Information",
            "name": "Resolution: Needs More Information",
            "color": "fffde7",
            "default": false,
            "description": null
          },
          {
            "id": 710375792,
            "node_id": "MDU6TGFiZWw3MTAzNzU3OTI=",
            "url": "https://api.github.com/repos/facebook/react/labels/Type:%20Discussion",
            "name": "Type: Discussion",
            "color": "fef2c0",
            "default": false,
            "description": null
          },
          {
            "id": 3079053919,
            "node_id": "MDU6TGFiZWwzMDc5MDUzOTE5",
            "url": "https://api.github.com/repos/facebook/react/labels/React%2018",
            "name": "React 18",
            "color": "26B0E4",
            "default": false,
            "description": "Bug reports, questions, and general feedback about React 18"
          }
        ],
        "state": "open",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 19,
        "created_at": "2021-06-12T10:25:53Z",
        "updated_at": "2024-11-01T22:09:33Z",
        "closed_at": null,
        "author_association": "CONTRIBUTOR",
        "type": null,
        "active_lock_reason": null,
        "sub_issues_summary": {
          "total": 0,
          "completed": 0,
          "percent_completed": 0
        },
        "issue_dependencies_summary": {
          "blocked_by": 0,
          "total_blocked_by": 0,
          "blocking": 0,
          "total_blocking": 0
        },
        "body": "Main question:\r\n\r\n> What happens if a transition gets constantly interrupted before it has time to finish, and are there any cases where we need to worry about this in userland?\r\n\r\nSubquestion:\r\n\r\n> What exactly interrupts a transition? Is it only user events, or also for example when a new transition happens and if so, is it only if a new transition happens in the same component or an ancestor, or is it app-wide?\r\n\r\nI've seen discussions around the starvation problem now and then (can't remember where) so I'm curious about if you have ended up with a specific approach in React 18 or if this is yet undecided? It struck me that since interrupted work is no longer reused, maybe this has the potential for happening more often now?\r\n\r\nThe heuristics is an internal detail that can be tweaked of course, so I'm mostly interested if this is something I'll need to ever care about as a developer?\r\n\r\nPerhaps more concretely:\r\n\r\n> What happens if I call `startTransition` in a `requestAnimationFrame` and it never has time to finish?",
        "closed_by": null,
        "reactions": {
          "url": "https://api.github.com/repos/facebook/react/issues/21668/reactions",
          "total_count": 3,
          "+1": 0,
          "-1": 0,
          "laugh": 0,
          "hooray": 0,
          "confused": 0,
          "heart": 0,
          "rocket": 0,
          "eyes": 3
        },
        "timeline_url": "https://api.github.com/repos/facebook/react/issues/21668/timeline",
        "performed_via_github_app": null,
        "state_reason": null
      },
      {
        "url": "https://api.github.com/repos/facebook/react/issues/21662",
        "repository_url": "https://api.github.com/repos/facebook/react",
        "labels_url": "https://api.github.com/repos/facebook/react/issues/21662/labels{/name}",
        "comments_url": "https://api.github.com/repos/facebook/react/issues/21662/comments",
        "events_url": "https://api.github.com/repos/facebook/react/issues/21662/events",
        "html_url": "https://github.com/facebook/react/issues/21662",
        "id": 918501732,
        "node_id": "MDU6SXNzdWU5MTg1MDE3MzI=",
        "number": 21662,
        "title": "Concurrency / time-slicing by default",
        "user": {
          "login": "rybon",
          "id": 1155839,
          "node_id": "MDQ6VXNlcjExNTU4Mzk=",
          "avatar_url": "https://avatars.githubusercontent.com/u/1155839?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/rybon",
          "html_url": "https://github.com/rybon",
          "followers_url": "https://api.github.com/users/rybon/followers",
          "following_url": "https://api.github.com/users/rybon/following{/other_user}",
          "gists_url": "https://api.github.com/users/rybon/gists{/gist_id}",
          "starred_url": "https://api.github.com/users/rybon/starred{/owner}{/repo}",
          "subscriptions_url": "https://api.github.com/users/rybon/subscriptions",
          "organizations_url": "https://api.github.com/users/rybon/orgs",
          "repos_url": "https://api.github.com/users/rybon/repos",
          "events_url": "https://api.github.com/users/rybon/events{/privacy}",
          "received_events_url": "https://api.github.com/users/rybon/received_events",
          "type": "User",
          "user_view_type": "public",
          "site_admin": false
        },
        "labels": [
          {
            "id": 710375792,
            "node_id": "MDU6TGFiZWw3MTAzNzU3OTI=",
            "url": "https://api.github.com/repos/facebook/react/labels/Type:%20Discussion",
            "name": "Type: Discussion",
            "color": "fef2c0",
            "default": false,
            "description": null
          },
          {
            "id": 3079053919,
            "node_id": "MDU6TGFiZWwzMDc5MDUzOTE5",
            "url": "https://api.github.com/repos/facebook/react/labels/React%2018",
            "name": "React 18",
            "color": "26B0E4",
            "default": false,
            "description": "Bug reports, questions, and general feedback about React 18"
          }
        ],
        "state": "open",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 7,
        "created_at": "2021-06-11T09:32:25Z",
        "updated_at": "2021-06-11T18:26:23Z",
        "closed_at": null,
        "author_association": "NONE",
        "type": null,
        "active_lock_reason": null,
        "sub_issues_summary": {
          "total": 0,
          "completed": 0,
          "percent_completed": 0
        },
        "issue_dependencies_summary": {
          "blocked_by": 0,
          "total_blocked_by": 0,
          "blocking": 0,
          "total_blocking": 0
        },
        "body": "Will concurrency / time-slicing ever become the default behavior? Or will it always require a startTransition block to opt-in?\nIf it will become the default at some point, will that become part of the React 18 timeline or a later major release?",
        "closed_by": null,
        "reactions": {
          "url": "https://api.github.com/repos/facebook/react/issues/21662/reactions",
          "total_count": 0,
          "+1": 0,
          "-1": 0,
          "laugh": 0,
          "hooray": 0,
          "confused": 0,
          "heart": 0,
          "rocket": 0,
          "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/facebook/react/issues/21662/timeline",
        "performed_via_github_app": null,
        "state_reason": null
      },
      {
        "url": "https://api.github.com/repos/facebook/react/issues/21595",
        "repository_url": "https://api.github.com/repos/facebook/react",
        "labels_url": "https://api.github.com/repos/facebook/react/issues/21595/labels{/name}",
        "comments_url": "https://api.github.com/repos/facebook/react/issues/21595/comments",
        "events_url": "https://api.github.com/repos/facebook/react/issues/21595/events",
        "html_url": "https://github.com/facebook/react/issues/21595",
        "id": 908452483,
        "node_id": "MDU6SXNzdWU5MDg0NTI0ODM=",
        "number": 21595,
        "title": "[eslint-plugin-react-hooks] New Rule Proposal: `no-unnecessary-setstate `",
        "user": {
          "login": "karlhorky",
          "id": 1935696,
          "node_id": "MDQ6VXNlcjE5MzU2OTY=",
          "avatar_url": "https://avatars.githubusercontent.com/u/1935696?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/karlhorky",
          "html_url": "https://github.com/karlhorky",
          "followers_url": "https://api.github.com/users/karlhorky/followers",
          "following_url": "https://api.github.com/users/karlhorky/following{/other_user}",
          "gists_url": "https://api.github.com/users/karlhorky/gists{/gist_id}",
          "starred_url": "https://api.github.com/users/karlhorky/starred{/owner}{/repo}",
          "subscriptions_url": "https://api.github.com/users/karlhorky/subscriptions",
          "organizations_url": "https://api.github.com/users/karlhorky/orgs",
          "repos_url": "https://api.github.com/users/karlhorky/repos",
          "events_url": "https://api.github.com/users/karlhorky/events{/privacy}",
          "received_events_url": "https://api.github.com/users/karlhorky/received_events",
          "type": "User",
          "user_view_type": "public",
          "site_admin": false
        },
        "labels": [
          {
            "id": 121709921,
            "node_id": "MDU6TGFiZWwxMjE3MDk5MjE=",
            "url": "https://api.github.com/repos/facebook/react/labels/Type:%20Feature%20Request",
            "name": "Type: Feature Request",
            "color": "c7def8",
            "default": false,
            "description": null
          },
          {
            "id": 155984160,
            "node_id": "MDU6TGFiZWwxNTU5ODQxNjA=",
            "url": "https://api.github.com/repos/facebook/react/labels/Status:%20Unconfirmed",
            "name": "Status: Unconfirmed",
            "color": "d4c5f9",
            "default": false,
            "description": "A potential issue that we haven't yet confirmed as a bug"
          },
          {
            "id": 1249821345,
            "node_id": "MDU6TGFiZWwxMjQ5ODIxMzQ1",
            "url": "https://api.github.com/repos/facebook/react/labels/Component:%20ESLint%20Rules",
            "name": "Component: ESLint Rules",
            "color": "f7afdb",
            "default": false,
            "description": ""
          }
        ],
        "state": "open",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 3,
        "created_at": "2021-06-01T15:58:17Z",
        "updated_at": "2022-05-17T18:31:19Z",
        "closed_at": null,
        "author_association": "CONTRIBUTOR",
        "type": null,
        "active_lock_reason": null,
        "sub_issues_summary": {
          "total": 0,
          "completed": 0,
          "percent_completed": 0
        },
        "issue_dependencies_summary": {
          "blocked_by": 0,
          "total_blocked_by": 0,
          "blocking": 0,
          "total_blocking": 0
        },
        "body": "Hi there!\r\n\r\nFirst of all, again want to extend thanks for your tireless work on creating this amazing library and supporting the ecosystem! Really big up to everyone involved! ðŸ’¯ ðŸ™Œ\r\n\r\nI wanted to see if the `eslint-plugin-react-hooks` project would accept a new rule: `no-unnecessary-setstate`.\r\n\r\nI have the feeling that this may be too opinionated for the plugin, but I was sent here by ljharb from `eslint-plugin-react` after proposing it over there: https://github.com/yannickcr/eslint-plugin-react/issues/2997\r\n\r\n---\r\n\r\nAnyway, here goes:\r\n\r\n**Rule proposal:** `no-unnecessary-setstate` - forbid setting state to the value of the existing state variable\r\n\r\nI've seen this pattern also a bunch from beginners learning React. And regardless of whether you're a beginner or not, this is probably not what you want to do (even if it's an object / array).\r\n\r\nExample of **incorrect** code:\r\n\r\n```jsx\r\nfunction Input (props) {\r\n  const [name, setName] = useState('');\t\r\n\r\n  return (\r\n    <input\r\n      value={name}\r\n      onChange={(event) => {\r\n        setName(event.currentTarget.value);\r\n        setName(name); // ESLint problem reported\r\n      }}\r\n    />\r\n  );\r\n}\r\n```\r\n\r\nExamples of **correct** code:\r\n\r\n```jsx\r\nfunction Input (props) {\r\n  const [name, setName] = useState('');\t\r\n\r\n  return (\r\n    <input\r\n      value={name}\r\n      onChange={(event) => {\r\n        setName(event.currentTarget.value);\r\n      }}\r\n    />\r\n  );\r\n}\r\n```\r\n\r\n```jsx\r\nfunction Input (props) {\r\n  const [name, setName] = useState('');\t\r\n\r\n  return (\r\n    <input\r\n      value={name}\r\n      onChange={(event) => {\r\n        const name = event.currentTarget.value; // Shadowing\r\n        setName(name);\r\n      }}\r\n    />\r\n  );\r\n}\r\n```\r\n\r\n---\r\n\r\ncc @gaearon ",
        "closed_by": null,
        "reactions": {
          "url": "https://api.github.com/repos/facebook/react/issues/21595/reactions",
          "total_count": 1,
          "+1": 1,
          "-1": 0,
          "laugh": 0,
          "hooray": 0,
          "confused": 0,
          "heart": 0,
          "rocket": 0,
          "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/facebook/react/issues/21595/timeline",
        "performed_via_github_app": null,
        "state_reason": null
      }
    ]
  }
}